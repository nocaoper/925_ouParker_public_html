/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=window,ba=Object,ca=Function,da=document,ea=Math,e=Array,fa=Error,ga=parseInt,ha=String;function ia(a,b){return a.exec=b}function ja(a,b){return a.getName=b}function ka(a,b){return a.remove=b}function la(a,b){return a.forEach=b}function ma(a,b){return a.values=b}function na(a,b){return a.clear=b}function oa(a,b){return a.bind=b}function f(a,b){return a.toString=b}function pa(a,b){return a.table=b}function qa(a,b){return a.dump=b}function ra(a,b){return a.next=b}
function sa(a,b){return a.close=b}function ta(a,b){return a.clone=b}function ua(a,b){return a.child=b}function va(a,b){return a.onerror=b}function wa(a,b){return a.value=b}function xa(a,b){return a.getPriority=b}function ya(a,b){return a.delete=b}function za(a,b){return a.subscribe=b}function Aa(a,b){return a.name=b}function Ba(a,b){return a.length=b}function Ca(a,b){return a.onsuccess=b}function Da(a,b){return a.update=b}
var Ea="context",Fa="filter",Ga="version",Ha="getParent",Ia="shift",Ja="exec",Ka="replace",La="concat",Ma="objectStoreNames",k="getName",m="remove",Na="orderByChild",Oa="autoIncrement",n="forEach",Pa="values",Qa="clear",q="bind",Ra="getTime",Sa="continue",r="toString",Ua="global",Va="propertyIsEnumerable",Wa="create",t="table",Xa="compare",Ya="result",Za="size",$a="index",ab="next",bb="split",cb="hasOwnProperty",db="close",eb="once",fb="setImmediate",gb="transaction",hb="child",ib="rows",jb="contains",
u="apply",v="push",kb="reject",lb="reduce",mb="addAll",w="slice",x="value",nb="item",ob="objectStore",pb="indexOf",qb="getPriority",rb="delete",sb="name",y="length",z="prototype",A="then",C="entries",tb="removeChild",ub="openCursor",vb="target",D="call",wb="resolve",xb="some",yb="sort",zb="every",Ab="update",E="splice",F="join",Bb="unshift";function Cb(){return function(){}}function Db(a){return function(b){this[a]=b}}function G(a){return function(){return this[a]}}
function Eb(a){return function(){return a}}var H,Fb=this;function Gb(a){return void 0!==a}function I(a,b,c){a=a[bb](".");c=c||Fb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[y]&&(d=a[Ia]());)!a[y]&&Gb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Hb(){}function Ib(a){a.Ae=function(){return a.ag?a.ag:a.ag=new a}}
function Jb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof ba)return b;var c=ba[z][r][D](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[y]&&"undefined"!=typeof a[E]&&"undefined"!=typeof a[Va]&&!a[Va]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[D]&&"undefined"!=typeof a[Va]&&!a[Va]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[D])return"object";return b}
function Kb(a){return null===a}function Lb(a){return null!=a}function Mb(a){var b=Jb(a);return"array"==b||"object"==b&&"number"==typeof a[y]}function Nb(a){return"string"==typeof a}function Ob(a){return"function"==Jb(a)}function Pb(a){return a[Qb]||(a[Qb]=++Rb)}var Qb="closure_uid_"+(1E9*ea.random()>>>0),Rb=0;function Sb(a,b,c){return a[D][u](a[q],arguments)}
function Tb(a,b,c){if(!a)throw fa();if(2<arguments[y]){var d=e[z][w][D](arguments,2);return function(){var c=e[z][w][D](arguments);e[z][Bb][u](c,d);return a[u](b,c)}}return function(){return a[u](b,arguments)}}function J(a,b,c){J=ca[z][q]&&-1!=ca[z][q][r]()[pb]("native code")?Sb:Tb;return J[u](null,arguments)}function Ub(a,b){var c=e[z][w][D](arguments,1);return function(){var b=c[w]();b[v][u](b,arguments);return a[u](this,b)}}
function K(a,b){function c(){}c.prototype=b[z];a.gb=b[z];a.prototype=new c;a[z].constructor=a;a.Yk=function(a,c,h){for(var l=e(arguments[y]-2),p=2;p<arguments[y];p++)l[p-2]=arguments[p];return b[z][c][u](a,l)}}oa(ca[z],ca[z][q]||function(a,b){if(1<arguments[y]){var c=e[z][w][D](arguments,1);c[Bb](this,a);return J[u](null,c)}return J(this,a)});function Vb(a){if(fa.captureStackTrace)fa.captureStackTrace(this,Vb);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(Vb,fa);Aa(Vb[z],"CustomError");function Wb(a,b){for(var c=a[bb]("%s"),d="",g=e[z][w][D](arguments,1);g[y]&&1<c[y];)d+=c[Ia]()+g[Ia]();return d+c[F]("%s")};function Xb(a,b){b[Bb](a);Vb[D](this,Wb[u](null,b));b[Ia]()}K(Xb,Vb);Aa(Xb[z],"AssertionError");function Yb(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),h=d;else a&&(g+=": "+a,h=b);throw new Xb(""+g,h||[]);}function L(a,b,c){a||Yb("",null,b,e[z][w][D](arguments,2));return a}function Zb(a,b){throw new Xb("Failure"+(a?": "+a:""),e[z][w][D](arguments,1));}function $b(a,b,c){Ob(a)||Yb("Expected function but got %s: %s.",[Jb(a),a],b,e[z][w][D](arguments,2));return a};function ac(a,b,c){this.Nj=c;this.di=a;this.wk=b;this.Qd=0;this.Jd=null}ac[z].get=function(){var a;0<this.Qd?(this.Qd--,a=this.Jd,this.Jd=a[ab],ra(a,null)):a=this.di();return a};ac[z].put=function(a){this.wk(a);this.Qd<this.Nj&&(this.Qd++,ra(a,this.Jd),this.Jd=a)};var bc=e[z],cc=bc[pb]?function(a,b,c){L(null!=a[y]);return bc[pb][D](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ea.max(0,a[y]+c):c;if(Nb(a))return Nb(b)&&1==b[y]?a[pb](b,c):-1;for(;c<a[y];c++)if(c in a&&a[c]===b)return c;return-1},dc=bc[n]?function(a,b,c){L(null!=a[y]);bc[n][D](a,b,c)}:function(a,b,c){for(var d=a[y],g=Nb(a)?a[bb](""):a,h=0;h<d;h++)h in g&&b[D](c,g[h],h,a)},ec=bc.map?function(a,b,c){L(null!=a[y]);return bc.map[D](a,b,c)}:function(a,b,c){for(var d=a[y],g=e(d),h=Nb(a)?a[bb](""):a,l=0;l<
d;l++)l in h&&(g[l]=b[D](c,h[l],l,a));return g},fc=bc[lb]?function(a,b,c,d){L(null!=a[y]);d&&(b=J(b,d));return bc[lb][D](a,b,c)}:function(a,b,c,d){var g=c;dc(a,function(c,l){g=b[D](d,g,c,l,a)});return g},gc=bc[xb]?function(a,b,c){L(null!=a[y]);return bc[xb][D](a,b,c)}:function(a,b,c){for(var d=a[y],g=Nb(a)?a[bb](""):a,h=0;h<d;h++)if(h in g&&b[D](c,g[h],h,a))return!0;return!1},hc=bc[zb]?function(a,b,c){L(null!=a[y]);return bc[zb][D](a,b,c)}:function(a,b,c){for(var d=a[y],g=Nb(a)?a[bb](""):a,h=0;h<
d;h++)if(h in g&&!b[D](c,g[h],h,a))return!1;return!0};function ic(a,b){L(null!=a[y]);return 1==bc[E][D](a,b,1)[y]}function jc(a,b,c){a:{for(var d=a[y],g=Nb(a)?a[bb](""):a,h=0;h<d;h++)if(h in g&&b[D](c,g[h],h,a)){b=h;break a}b=-1}return 0<=b?(ic(a,b),!0):!1}function kc(a){var b=a[y];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function lc(a,b){for(var c=1;c<arguments[y];c++){var d=arguments[c];if(Mb(d)){var g=a[y]||0,h=d[y]||0;Ba(a,g+h);for(var l=0;l<h;l++)a[g+l]=d[l]}else a[v](d)}}function mc(a,b,c,d){L(null!=a[y]);return bc[E][u](a,nc(arguments,1))}function nc(a,b,c){L(null!=a[y]);return 2>=arguments[y]?bc[w][D](a,b):bc[w][D](a,b,c)}function oc(a,b,c,d,g){for(var h=0,l=a[y],p;h<l;){var B=h+l>>1,Ta;Ta=c?b[D](g,a[B],B,a):b(d,a[B]);0<Ta?h=B+1:(l=B,p=!Ta)}return p?h:~h}function pc(a,b){return a>b?1:a<b?-1:0}
function qc(a,b,c){c=oc(a,c||pc,!1,b);return 0>c?(mc(a,-(c+1),0,b),!0):!1}function rc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function sc(a){for(var b=[],c=0;c<arguments[y];c++){var d=arguments[c];if("array"==Jb(d))for(var g=0;g<d[y];g+=8192)for(var h=nc(d,g,g+8192),h=sc[u](null,h),l=0;l<h[y];l++)b[v](h[l]);else b[v](d)}return b};function tc(a,b,c){for(var d in a)b[D](c,a[d],d,a)}function uc(a,b,c){for(var d in a)if(b[D](c,a[d],d,a))return!0;return!1}function vc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function wc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var xc;a:{var yc=Fb.navigator;if(yc){var zc=yc.userAgent;if(zc){xc=zc;break a}}xc=""};function Ac(a){Fb.setTimeout(function(){throw a;},0)}var Bc;
function Cc(){var a=Fb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof aa&&aa.postMessage&&aa.addEventListener&&-1==xc[pb]("Presto")&&(a=function(){var a=da.createElement("IFRAME");a.style.display="none";a.src="";da.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[db]();var c="callImmediate"+ea.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==xc[pb]("Trident")&&-1==xc[pb]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Gb(c[ab])){c=c[ab];var a=c.Af;c.Af=null;a()}};return function(a){ra(d,{Af:a});d=d[ab];b.port2.postMessage(0)}}return"undefined"!==typeof da&&"onreadystatechange"in da.createElement("SCRIPT")?function(a){var b=da.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[tb](b);b=null;a();a=null};da.documentElement.appendChild(b)}:function(a){Fb.setTimeout(a,0)}};function Dc(){this.fe=this.bc=null}var Fc=new ac(function(){return new Ec},function(a){a.reset()},100);Dc[z].add=function(a,b){var c=this.rj();c.set(a,b);this.fe?ra(this.fe,c):(L(!this.bc),this.bc=c);this.fe=c};ka(Dc[z],function(){var a=null;this.bc&&(a=this.bc,this.bc=this.bc[ab],this.bc||(this.fe=null),ra(a,null));return a});Dc[z].xk=function(a){Fc.put(a)};Dc[z].rj=function(){return Fc.get()};function Ec(){this.scope=this.ve=null;ra(this,null)}
Ec[z].set=function(a,b){this.ve=a;this.scope=b;ra(this,null)};Ec[z].reset=function(){this.scope=this.ve=null;ra(this,null)};function Gc(a,b){Hc||Ic();Jc||(Hc(),Jc=!0);Kc.add(a,b)}var Hc;function Ic(){if(Fb.Promise&&Fb.Promise[wb]){var a=Fb.Promise[wb]();Hc=function(){a[A](Lc)}}else Hc=function(){var a=Lc;if(!Ob(Fb[fb])||Fb.Window&&Fb.Window[z]&&Fb.Window[z][fb]==Fb[fb])Bc||(Bc=Cc()),Bc(a);else Fb[fb](a)}}var Jc=!1,Kc=new Dc;[][v](function(){Jc=!1;Kc=new Dc});function Lc(){for(var a=null;a=Kc[m]();){try{a.ve[D](a.scope)}catch(b){Ac(b)}Kc.xk(a)}Jc=!1};function M(a,b){this.Ha=0;this.Hg=void 0;this.ld=this.gc=this.C=null;this.Id=this.te=!1;if(a!=Hb)try{var c=this;a[D](b,function(a){c.uc(2,a)},function(a){if(!(a instanceof Mc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.uc(3,a)})}catch(d){this.uc(3,d)}}function Nc(){ua(this,null);this.context=this.rc=this.Rb=null;ra(this,null);this.ie=!1}Nc[z].reset=function(){ua(this,null);this.context=this.rc=this.Rb=null;this.ie=!1};
var Oc=new ac(function(){return new Nc},function(a){a.reset()},100);function Pc(a,b,c){var d=Oc.get();d.Rb=a;d.rc=b;d.context=c;return d}function Qc(a){if(a instanceof M)return a;var b=new M(Hb);b.uc(2,a);return b}function Rc(a){return new M(function(b,c){c(a)})}function Sc(a,b,c){Tc(a,b,c,null)||Gc(Ub(b,a))}function Uc(a){return new M(function(b,c){var d=a[y],g=[];if(d)for(var h=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,B;B=a[p];p++)Sc(B,Ub(h,p),l);else b(g)})}
function Vc(){var a,b,c=new M(function(c,g){a=c;b=g});return new Wc(c,a,b)}M[z].then=function(a,b,c){null!=a&&$b(a,"opt_onFulfilled should be a function.");null!=b&&$b(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.pf(Ob(a)?a:null,Ob(b)?b:null,c)};M[z].then=M[z][A];M[z].$goog_Thenable=!0;H=M[z];
H.Nk=function(a,b,c){null!=a&&$b(a,"opt_onFulfilled should be a function.");null!=b&&$b(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.of(Pc(a||Hb,b||null,c))};H.Tg=function(a,b){return this.pf(null,a,b)};H.of=function(a){this.Bj()||2!=this.Ha&&3!=this.Ha||this.Kg();this.mk(a)};
H.pf=function(a,b,c){var d=Pc(null,null,null);ua(d,new M(function(g,h){d.Rb=a?function(b){try{var d=a[D](c,b);g(d)}catch(B){h(B)}}:g;d.rc=b?function(a){try{var d=b[D](c,a);!Gb(d)&&a instanceof Mc?h(a):g(d)}catch(B){h(B)}}:h}));d[hb].C=this;this.of(d);return d[hb]};H.Qk=function(a){L(1==this.Ha);this.Ha=0;this.uc(2,a)};H.Rk=function(a){L(1==this.Ha);this.Ha=0;this.uc(3,a)};
H.uc=function(a,b){0==this.Ha&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.Ha=1,Tc(b,this.Qk,this.Rk,this)||(this.Hg=b,this.Ha=a,this.C=null,this.Kg(),3!=a||b instanceof Mc||Xc(this,b)))};
function Tc(a,b,c,d){if(a instanceof M)return a.Nk(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(h){g=!1}else g=!1;if(g)return a[A](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[A];if(Ob(l))return Yc(a,l,b,c,d),!0}catch(p){return c[D](d,p),!0}return!1}function Yc(a,b,c,d,g){function h(a){p||(p=!0,d[D](g,a))}function l(a){p||(p=!0,c[D](g,a))}var p=!1;try{b[D](a,l,h)}catch(B){h(B)}}H.Kg=function(){this.te||(this.te=!0,Gc(this.zi,this))};H.Bj=function(){return!!this.gc};
H.mk=function(a){L(null!=a.Rb);this.ld?ra(this.ld,a):this.gc=a;this.ld=a};H.fk=function(){var a=null;this.gc&&(a=this.gc,this.gc=a[ab],ra(a,null));this.gc||(this.ld=null);null!=a&&L(null!=a.Rb);return a};H.zi=function(){for(var a=null;a=this.fk();)this.yi(a,this.Ha,this.Hg);this.te=!1};H.yi=function(a,b,c){3==b&&a.rc&&!a.ie&&this.uk();if(a[hb])a[hb].C=null,Zc(a,b,c);else try{a.ie?a.Rb[D](a[Ea]):Zc(a,b,c)}catch(d){$c[D](null,d)}Oc.put(a)};
function Zc(a,b,c){2==b?a.Rb[D](a[Ea],c):a.rc&&a.rc[D](a[Ea],c)}H.jh=Cb();H.uk=function(){var a;for(a=this;a&&a.Id;a=a.C)a.Id=!1};function Xc(a,b){a.Id=!0;Gc(function(){a.Id&&(a.jh(b),$c[D](null,b))})}var $c=Ac;function Mc(a){Vb[D](this,a)}K(Mc,Vb);Aa(Mc[z],"cancel");function Wc(a,b,c){this.ga=a;this.resolve=b;this.reject=c};
function ad(a,b){this.xa=a;this.Tb=b||this.Gf()}var bd=0;H=ad[z];H.id=G("xa");H.rh=Db("xa");H.w=G("Tb");H.Gf=function(){return{}};H.Ug=G("Tb");H.Ga=function(){return{id:this.xa,value:this.Ug()}};H.Uc=function(a){return"#"==a.substr(-1)?this.xa:null};function cd(a){return new ad(a.id,a[x])}function dd(a){return new ad(bd++,a||{})}function ed(a){if(null==a)return"";a=new Uint8Array(a);for(var b="",c=0;c<a[y];++c)var d=a[c][r](16),b=b+(2>d[y]?"0"+d:d);return b};
function fd(a){this.type=a}function gd(a){ad[D](this,-1,a)}K(gd,ad);
var hd={};I("lf.TransactionType",hd,void 0);hd.READ_ONLY=0;hd.READ_WRITE=1;

function id(a,b){this.ab=a;this.Vg=b;this.ca=Vc()}H=id[z];H.dj=G("ab");H.V=function(){return(0==this.Vg?Qc():this.Sj())[A](J(function(){this.ab.V()},this))};H.Sj=function(){this.Tj();this.Rj();return this.ca.ga};H.Tj=function(){var a=this.ab.Qf();a.H()[n](function(b){var c=this.ab.fa().get(b),c=this.X(c[k](),J(c.jc,c));b=a.get(b);var d=b.xd().c().map(function(a){return a.id()});0<d[y]&&c[m](d).Tg(this.He,this);b=b.Cd().c().map(function(a){return a[1]})[La](b.wd().c());c.put(b).Tg(this.He,this)},this)};
H.Rj=function(){this.ab.aj()[n](function(a){var b=this.X(a[k](),cd),c;b.get([-1])[A](function(a){c=a;return b[m]([])})[A](function(){b.put(c);b.put(a.Ga())},J(this.He,this))},this)};H.He=function(a){this.ca[kb](a)};function jd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[y],h=b[y],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var B=0;B<h+1;B++)l[0][B]=0;for(p=1;p<=g;p++)for(B=1;B<=h;B++)c(a[p-1],b[B-1])?l[p][B]=l[p-1][B-1]+1:l[p][B]=ea.max(l[p-1][B],l[p][B-1]);for(var Ta=[],p=g,B=h;0<p&&0<B;)c(a[p-1],b[B-1])?(Ta[Bb](d(p-1,B-1)),p--,B--):l[p-1][B]>l[p][B-1]?p--:B--;return Ta}function kd(a){return fc(arguments,function(a,c){return a+c},0)}
function ld(a){return kd[u](null,arguments)/arguments[y]}function md(a){var b=arguments[y];if(2>b)return 0;var c=ld[u](null,arguments);return kd[u](null,ec(arguments,function(a){return ea.pow(a-c,2)}))/(b-1)}function nd(a){return ea.sqrt(md[u](null,arguments))};var od="StopIteration"in Fb?Fb.StopIteration:{message:"StopIteration",stack:""};function pd(){}ra(pd[z],function(){throw od;});pd[z].xc=function(){return this};function qd(a){if(a instanceof pd)return a;if("function"==typeof a.xc)return a.xc(!1);if(Mb(a)){var b=0,c=new pd;ra(c,function(){for(;;){if(b>=a[y])throw od;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function rd(a,b,c){if(Mb(a))try{dc(a,b,c)}catch(d){if(d!==od)throw d;}else{a=qd(a);try{for(;;)b[D](c,a[ab](),void 0,a)}catch(g){if(g!==od)throw g;}}}function sd(a){if(gc(arguments,function(a){return!a[y]})||!arguments[y])return new pd;var b=new pd,c=arguments,d=rc(0,c[y]);ra(b,function(){if(d){for(var a=ec(d,function(a,b){return c[b][a]}),b=d[y]-1;0<=b;b--){L(d);if(d[b]<c[b][y]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw od;});return b};function N(a,b){this.g={};this.b=[];this.Pa=this.aa=0;var c=arguments[y];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[mb](a)}H=N[z];H.qa=G("aa");H.c=function(){this.Cc();for(var a=[],b=0;b<this.b[y];b++)a[v](this.g[this.b[b]]);return a};H.H=function(){this.Cc();return this.b[La]()};H.A=function(a){return td(this.g,a)};H.qd=function(a){for(var b=0;b<this.b[y];b++){var c=this.b[b];if(td(this.g,c)&&this.g[c]==a)return!0}return!1};
H.Ic=function(a,b){if(this===a)return!0;if(this.aa!=a.qa())return!1;var c=b||ud;this.Cc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function ud(a,b){return a===b}H.Ja=function(){return 0==this.aa};na(H,function(){this.g={};Ba(this.b,0);this.Pa=this.aa=0});ka(H,function(a){return td(this.g,a)?(delete this.g[a],this.aa--,this.Pa++,this.b[y]>2*this.aa&&this.Cc(),!0):!1});
H.Cc=function(){if(this.aa!=this.b[y]){for(var a=0,b=0;a<this.b[y];){var c=this.b[a];td(this.g,c)&&(this.b[b++]=c);a++}Ba(this.b,b)}if(this.aa!=this.b[y]){for(var d={},b=a=0;a<this.b[y];)c=this.b[a],td(d,c)||(this.b[b++]=c,d[c]=1),a++;Ba(this.b,b)}};H.get=function(a,b){return td(this.g,a)?this.g[a]:b};H.set=function(a,b){td(this.g,a)||(this.aa++,this.b[v](a),this.Pa++);this.g[a]=b};H.addAll=function(a){var b;a instanceof N?(b=a.H(),a=a.c()):(b=wc(a),a=vc(a));for(var c=0;c<b[y];c++)this.set(b[c],a[c])};
la(H,function(a,b){for(var c=this.H(),d=0;d<c[y];d++){var g=c[d],h=this.get(g);a[D](b,h,g,this)}});ta(H,function(){return new N(this)});H.xc=function(a){this.Cc();var b=0,c=this.Pa,d=this,g=new pd;ra(g,function(){if(c!=d.Pa)throw fa("The map has changed since the iterator was created");if(b>=d.b[y])throw od;var g=d.b[b++];return a?g:d.g[g]});return g};function td(a,b){return ba[z][cb][D](a,b)};
function vd(a){this.yk=a}f(vd[z],G("yk"));var wd=new vd("backstore"),xd=new vd("cache"),yd=new vd("indexstore"),zd=new vd("engine"),Ad=new vd("runner"),Bd=new vd("observerregistry"),Cd=new vd("schema");
function Dd(a){if("function"==typeof a.qa)a=a.qa();else if(Mb(a)||Nb(a))a=a[y];else{var b=0,c;for(c in a)b++;a=b}return a}function Ed(a){if("function"==typeof a.c)return a.c();if(Nb(a))return a[bb]("");if(Mb(a)){for(var b=[],c=a[y],d=0;d<c;d++)b[v](a[d]);return b}return vc(a)}
function Fd(a,b,c){if("function"==typeof a[zb])return a[zb](b,c);if(Mb(a)||Nb(a))return hc(a,b,c);var d;if("function"==typeof a.H)d=a.H();else if("function"!=typeof a.c)if(Mb(a)||Nb(a)){d=[];for(var g=a[y],h=0;h<g;h++)d[v](h)}else d=wc(a);else d=void 0;for(var g=Ed(a),h=g[y],l=0;l<h;l++)if(!b[D](c,g[l],d&&d[l],a))return!1;return!0};function O(a){this.g=new N;a&&this[mb](a)}function Gd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Pb(a):b.substr(0,1)+a}H=O[z];H.qa=function(){return this.g.qa()};H.add=function(a){this.g.set(Gd(a),a)};H.addAll=function(a){a=Ed(a);for(var b=a[y],c=0;c<b;c++)this.add(a[c])};ka(H,function(a){return this.g[m](Gd(a))});na(H,function(){this.g[Qa]()});H.Ja=function(){return this.g.Ja()};H.contains=function(a){return this.g.A(Gd(a))};H.Xh=function(a){return Fd(a,this[jb],this)};H.c=function(){return this.g.c()};
ta(H,function(){return new O(this)});H.Ic=function(a){return this.qa()==Dd(a)&&this.Kj(a)};H.Kj=function(a){var b=Dd(a);if(this.qa()>b)return!1;!(a instanceof O)&&5<b&&(a=new O(a));return Fd(this,function(b){var d=a;if("function"==typeof d[jb])b=d[jb](b);else if("function"==typeof d.qd)b=d.qd(b);else if(Mb(d)||Nb(d))b=0<=cc(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};H.xc=function(){return this.g.xc(!1)};
function Hd(a,b){this.xa=a;this.Tb=b||{}}function Id(a){var b=new O;a[n](function(a){b.add(a>>9)});return b.c()}H=Hd[z];H.ka=G("xa");H.oc=G("Tb");H.Ng=function(a){a[n](function(a){this.Tb[a.id()]=a.Ga()},this)};H.tk=function(a){a[n](function(a){var c=this.Tb;a in c&&delete c[a]},this)};H.Ga=function(){return{id:this.xa,value:JSON.stringify(this.Tb)}};function Jd(a){return new Hd(a.id,JSON.parse(a[x]))};

function Kd(a,b,c){this.S=a;this.Kb=b;this.Ig=c}H=Kd[z];H.get=function(a){return 0==a[y]?this.ye():this.hj(a)[A](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Kb(d.oc()[a])},this)},this))};H.hj=function(a){var b=new N,c=Vc();a=Id(a).map(function(a){return new M(function(c,h){var l;try{l=this.S.get(a)}catch(p){h(p);return}va(l,h);Ca(l,J(function(a){a=Jd(a[vb][Ya]);b.set(a.ka(),a);c()},this))},this)},this);Uc(a)[A](function(){c[wb](b)});return c.ga};
H.ye=function(){return new M(function(a,b){var c=[],d;try{d=this.S[ub]()}catch(g){b(g);return}va(d,b);Ca(d,J(function(){var b=d[Ya];if(b){var g=Jd(b[x]).oc(),p;for(p in g)c[v](this.Kb(g[p]));b[Sa]()}else a(c)},this))},this)};H.Ub=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}Ca(d,b);va(d,c)},this)};
H.put=function(a){if(0==a[y])return Qc();var b=new N;a[n](function(a){var d;d=a.id()>>9;var g=b.get(d,null);null===g&&(g=this.Ig(this.S[sb],d));g.Ng([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.Ub(J(function(){return this.S.put(a.Ga())},this))},this);return Uc(a)};
ka(H,function(a){if(0==a[y])return this.Ub(J(function(){return this.S[Qa]()},this));var b=new N;a[n](function(a){var d=a>>9,g=b.get(d,null);null===g&&(g=this.Ig(this.S[sb],d));g.tk([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.Ub(J(function(){var b;a:{b=a.oc();for(var g in b){b=!1;break a}b=!0}return b?this.S[rb](a.ka()):this.S.put(a.Ga())},this))},this);return Uc(a)});function Ld(a,b,c){a=a.o(xd);var d=[c<<9,(c+1<<9)-1];b=a.Za(b,d[0],d[1]);c=new Hd(c);c.Ng(b);return c}
function Md(a,b){return new Hd(b)};
function Nd(){};
function Od(a){this.pa=a.o(xd);this.O=a.o(yd);this.s=a.o(Cd)}Da(Od[z],function(a){a[n](function(a){this.Uk(a);this.Sk(a)},this)});Od[z].Sk=function(a){var b=a[k]();a.xd().c()[n](function(a){this.pa[m](b,[a.id()])},this);a.wd()[n](function(a){this.pa.set(b,[a])},this);a.Cd()[n](function(a){this.pa.set(b,[a[1]])},this)};Od[z].Uk=function(a){var b=this.s[t](a[k]());a.Yi()[n](function(a){this.Zg(b,a)},this)};
Od[z].Zg=function(a,b){a.Ia().map(function(a){return this.O.get(a.l())},this)[La]([this.O.get(a.Nb())])[n](function(a){var d=null===b[1]?null:b[1].Uc(a[k]()),g=null===b[0]?null:b[0].Uc(a[k]());null===g&&null!==d?a.add(d,b[1].id()):null===g||null===d?null!==g&&null===d&&a[m](g,b[0].id()):0!=a.Ec()[Xa](g,d)&&(a.add(d,b[1].id()),a[m](g,b[0].id()))})};
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[y])for(var c=1;c<=ea.min(4,arguments[y]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][r]()[w](0,64)))};
function Pd(a){this.O=a.o(yd)}Pd[z].Gi=function(a,b){var c=a.Lb().De();return null===c?null:this.Fi(c,b)};Pd[z].Fi=function(a,b){var c=a.l(),d=b.Uc(c),c=this.O.get(c).get(d);return 0==c[y]?null:c[0]};Pd[z].ne=function(a,b){var c=a.Lb().fj();b[n](function(a){c[n](function(b){if(null===a.w()[b[k]()])throw new P(202,b.l());},this)},this)};
function Qd(a){this.ib=new N;this.Ka=new N;this.lb=new N;this.B=a}H=Qd[z];ja(H,G("B"));H.wd=G("ib");H.Cd=G("Ka");H.xd=G("lb");H.add=function(a){if(this.lb.A(a.id())){var b=[this.lb.get(a.id()),a];this.Ka.set(a.id(),b);this.lb[m](a.id())}else this.ib.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.ib.A(b)?this.ib.set(b,c):(this.Ka.A(b)&&(a=[this.Ka.get(a[0].id())[0],c]),this.Ka.set(b,a))};
ya(H,function(a){if(this.ib.A(a.id()))this.ib[m](a.id());else if(this.Ka.A(a.id())){var b=this.Ka.get(a.id())[0];this.Ka[m](a.id());this.lb.set(a.id(),b)}else this.lb.set(a.id(),a)});H.Yi=function(){var a=[];this.ib.c()[n](function(b){a[v]([null,b])},this);this.Ka.c()[n](function(b){a[v](b)},this);this.lb.c()[n](function(b){a[v]([b,null])},this);return a};f(H,function(){return"["+this.ib.H()[r]()+"], ["+this.Ka.H()[r]()+"], ["+this.lb.H()[r]()+"]"});
H.lj=function(){var a=new Qd(this.B);this.ib.c()[n](function(b){a[rb](b)},this);this.lb.c()[n](function(b){a.add(b)},this);this.Ka.c()[n](function(b){a.modify([b[1],b[0]])},this);return a};H.Ja=function(){return this.ib.Ja()&&this.lb.Ja()&&this.Ka.Ja()};
function Rd(a,b){this.va=new N;b[n](function(a){this.va.set(a[k](),a)},this);this.pa=a.o(xd);this.O=a.o(yd);this.pd=new Pd(a);this.Kd=new Od(a);this.We=this.be=!1;this.Fb=new N}H=Rd[z];H.Qf=G("Fb");H.aj=function(){var a=[];this.Fb.H().map(function(a){return this.va.get(a)},this)[n](function(b){b.Vb()&&(b.Ia()[n](function(b){a[v](this.O.get(b.l()))},this),a[v](this.O.get(b[k]()+".#")))},this);return a};H.fa=G("va");
H.bj=function(){var a=[];this.va.c()[n](function(b){b.Vb()&&(b.Ia()[n](function(b){a[v](b.l())}),a[v](b[k]()+".#"))});return a};H.wb=function(a,b){this.Bc();this.md(a);this.pd.ne(a,b);for(var c=0;c<b[y];c++)this.Ld(a,null,b[c])};
H.Ld=function(a,b,c){var d=a[k](),g=this.Fb.get(d,null)||new Qd(d);this.Fb.set(d,g);var h=[b,c];try{this.Kd.Zg(a,h)}catch(l){throw this.We=!0,l;}null===b&&null!==c?(this.pa.set(d,[c]),g.add(c)):null!==b&&null!==c?(this.pa.set(d,[c]),g.modify(h)):null!==b&&null===c&&(this.pa[m](d,[b.id()]),g[rb](b))};Da(H,function(a,b){this.Bc();this.md(a);this.pd.ne(a,b);for(var c=0;c<b[y];c++){var d=b[c],g=this.pa.get([d.id()])[0];this.Ld(a,g,d)}});
H.Ke=function(a,b){this.Bc();this.md(a);this.pd.ne(a,b);for(var c=0;c<b[y];c++){var d=b[c],g=null,h=this.pd.Gi(a,d);null!=h&&(g=this.pa.get([h])[0],d.rh(h));this.Ld(a,g,d)}};ka(H,function(a,b){this.Bc();this.md(a);for(var c=0;c<b[y];c++)this.Ld(a,b[c],null)});H.V=function(){this.Bc();this.be=!0};H.Bc=function(){L(!this.We,"Attemptted to use journal that needs to be rolled back.");L(!this.be,"Attemptted to commit a terminated journal.")};
H.Db=function(){L(!this.be,"Attempted to rollback a terminated journal.");var a=this.Fb.c().map(function(a){return a.lj()},this);this.Kd[Ab](a);this.be=!0;this.We=!1};H.md=function(a){if(!this.va.A(a[k]()))throw new P(106,a[k]());};
var Sd={};I("lf.ConstraintAction",Sd,void 0);Sd.RESTRICT=0;Sd.CASCADE=1;var Td={};I("lf.ConstraintTiming",Td,void 0);Td.IMMEDIATE=0;Td.DEFERRABLE=1;var Ud={};I("lf.Order",Ud,void 0);Ud.DESC=0;Ud.ASC=1;var Vd={};I("lf.Type",Vd,void 0);Vd.ARRAY_BUFFER=0;Vd.BOOLEAN=1;Vd.DATE_TIME=2;Vd.INTEGER=3;Vd.NUMBER=4;Vd.STRING=5;Vd.OBJECT=6;var Wd={0:new ArrayBuffer(0),1:!1,2:ba.freeze(new Date(0)),3:0,4:0,5:"",6:ba.freeze({})};I("lf.type.DEFAULT_VALUES",Wd,void 0);
function Xd(a,b,c,d){this.f=a;this.u=b;this.ba=null===this.f?!1:c;this.ea=null===this.u?!1:d}H=Xd[z];f(H,function(){return(this.ba?"(":"[")+(null===this.f?"unbound":this.f)+", "+(null===this.u?"unbound":this.u)+(this.ea?")":"]")});H.Sh=function(){if(null===this.f&&null===this.u)return[];var a=null,b=null;null===this.f||(a=new Xd(null,this.f,!1,!this.ba));null===this.u||(b=new Xd(this.u,null,!this.ea,!1));return[a,b][Fa](function(a){return null!==a})};
H.reverse=function(){return new Xd(this.u,this.f,this.ea,this.ba)};H.vg=function(a){var b=Yd(this.f,a.f,!0,this.ba,a.ba);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.u||c.u>a.f||c.u==a.f&&!c.ea&&!a.ba};function Zd(){return new Xd(null,null,!1,!1)}H.contains=function(a){var b=null===this.u||a<this.u||a==this.u&&!this.ea;return(null===this.f||a>this.f||a==this.f&&!this.ba)&&b};H.Ic=function(a){return this.f==a.f&&this.ba==a.ba&&this.u==a.u&&this.ea==a.ea};
function Yd(a,b,c,d,g){function h(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?h(1):h(-1):0:h(-1):null===b?h(1):a<b?-1:a==b?(d?!g:g)?d?h(1):h(-1):0:1}function $d(a,b){var c=Yd(a.f,b.f,!0,a.ba,b.ba);0==c&&(c=Yd(a.u,b.u,!1,a.ea,b.ea));return c};
function ae(a,b){this.entries=a;this.F=new O(b);this.Gb=null}H=ae[z];H.Hj=function(a){return this.F.Ic(a.F)};function be(a,b){L(a.Hj(b),"Intersection/union operations only apply to compatible relations.")}H.Y=function(){return this.F.c()};H.Me=function(){return 1<this.F.qa()};H.Be=function(){return this[C].map(function(a){return a.ua.w()})};H.nj=function(){return this[C].map(function(a){return a.ua.id()})};H.zk=function(a,b){null===this.Gb&&(this.Gb=new N);this.Gb.set(a.l(),b)};
H.nc=function(a){L(null!==this.Gb,"getAggregationResult called before any results have been calculated.");var b=this.Gb.get(a.l(),void 0);L(Gb(b),"Could not find result for "+a.l());return b};H.zj=function(a){return null!==this.Gb&&this.Gb.A(a.l())};var ce=null;function de(){null===ce&&(ce=new ae([],[]));return ce}
function ee(a){if(0==a[y])return de();for(var b=a[lb](function(b,c){be(a[0],c);return b+c[C][y]},0),c=e(b),d=0,b=a.map(function(a){var b=new N;a[C][n](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new N,h=0;h<c[y];h++)b[zb](function(a){return a.A(c[h].id)})&&g.set(c[h].id,c[h]);return new ae(g.c(),a[0].F.c())}function fe(a){if(0==a[y])return de();var b=new N;a[n](function(c){be(a[0],c);c[C][n](function(a){b.set(a.id,a)})});return new ae(b.c(),a[0].F.c())}
function ge(a,b){var c=1<b[y],d=a.map(function(a){return new he(a,c)});return new ae(d,b)}function he(a,b){this.ua=a;this.id=ie++;this.Ne=b}var ie=0;he[z].N=function(a){var b=a.Ya();return null!==b&&this.ua.w()[cb](b)?this.ua.w()[b]:this.Ne?this.ua.w()[a.X().Ca()][a[k]()]:this.ua.w()[a[k]()]};he[z].cf=function(a,b){var c=a.Ya();if(null!=c)this.ua.w()[c]=b;else if(this.Ne){var c=a.X().Ca(),d=this.ua.w()[c];null==d&&(d={},this.ua.w()[c]=d);d[a[k]()]=b}else this.ua.w()[a[k]()]=b};
function je(a,b,c,d){function g(a,b){if(a.Ne){var c=a.ua.w(),d;for(d in c)h[d]=c[d]}else L(!h[cb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),h[b[0]]=a.ua.w()}var h={};g(a,b);g(c,d);a=new ad(-1,h);return new he(a,!0)};
I("lf.bind",function(a){return new ke(a)},void 0);function ke(a){this.ya=a}I("lf.Binder",ke,void 0);ke[z].tb=G("ya");
function le(){var a=me();this.pi=new N(1,ne(),2,oe(),4,a,3,a,5,pe())}Ib(le);le[z].ze=function(a,b){var c=this.pi.get(a,null);L(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);L(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function me(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[pb](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function pe(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[pb](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function oe(){return new N("between",function(a,b){return a[Ra]()>=b[0][Ra]()&&a[Ra]()<=b[1][Ra]()},"eq",function(a,b){return(null===a?-1:a[Ra]())==(null===b?-1:b[Ra]())},"gte",function(a,b){return a[Ra]()>=b[Ra]()},"gt",function(a,b){return a[Ra]()>b[Ra]()},"in",function(a,b){return b[xb](function(b){return b[Ra]()==a[Ra]()})},"lte",function(a,b){return a[Ra]()<=b[Ra]()},"lt",function(a,b){return a[Ra]()<b[Ra]()},"neq",function(a,b){return(null===a?-1:a[Ra]())!=(null===b?-1:b[Ra]())})}
function ne(){return new N("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function qe(a,b){this.jg=a;this.$g=b}qe[z].getKey=G("jg");qe[z].sj=G("$g");ta(qe[z],function(){return new qe(this.jg,this.$g)});function re(a,b){qe[D](this,a,b);this.i=this.C=null}K(re,qe);var se=[];H=re[z];ta(H,function(){return new re(this.getKey(),this.sj())});H.getParent=G("C");H.dg=function(){return!this.wa()};H.M=function(){return this.i||se};H.rb=function(a){return this.M()[a]||null};H.wa=function(){return this.M()[y]};H.Zi=function(){for(var a=0,b=this;b[Ha]();)a++,b=b[Ha]();return a};H.mb=function(){for(var a=this;a[Ha]();)a=a[Ha]();return a};H.contains=function(a){do a=a[Ha]();while(a&&a!=this);return Boolean(a)};
H.vc=function(a,b){if(!1!==a[D](b,this))for(var c=this.M(),d=0;d<c[y];d++)c[d].vc(a,b)};H.ae=Db("C");H.ia=function(a){this.yc(a,this.i?this.i[y]:0)};H.yc=function(a,b){L(!a[Ha]());a.ae(this);this.i=this.i||[];L(0<=b&&b<=this.i[y]);mc(this.i,b,0,a)};H.Xd=function(a){var b=this.i&&this.i[a];return b?(b.ae(null),ic(this.i,a),0==this.i[y]&&(this.i=null),b):null};H.removeChild=function(a){return this.Xd(cc(this.M(),a))};

function te(){re[D](this,"","");this.xa=ue++}K(te,re);var ue=0;te[z].ka=G("xa");te[z].df=Db("xa");
function ve(a,b,c){te[D](this);this.I=a;wa(this,b);this.W=c;this.td=le.Ae().ze(this.I.$(),this.W);this.$a=!1;this.fc=b}K(ve,te);H=ve[z];H.Ib=function(){var a=new ve(this.I,this[x],this.W);a.Ak(this.fc);a.$d(this.$a);a.df(this.ka());return a};H.sb=function(a){return null!=a?(a[v](this.I),a):[this.I]};H.$d=Db("$a");H.Ak=Db("fc");H.Bf=function(){var a=!1;this[x]instanceof ke||(a="array"==Jb(this[x])?!this[x][xb](function(a){return a instanceof ke}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Bf();if("in"==this.W)return this.ki(a);var b=a[C][Fa](function(a){return this.td(a.N(this.I),this[x])!=this.$a},this);return new ae(b,a.Y())};oa(H,function(a){if(this.fc instanceof ke){var b=this.fc.tb();if(a[y]<=b)throw new P(510);wa(this,a[b])}else"array"==Jb(this.fc)&&wa(this,this.fc.map(function(b){if(b instanceof ke){if(a[y]<=b.tb())throw new P(510);return a[b.tb()]}return b}))});
H.ki=function(a){L("in"==this.W,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new O(this[x]),c=J(function(a){return b[jb](a)!=this.$a},this),d=a[C][Fa](function(a){return c(a.N(this.I))},this);return new ae(d,a.Y())};f(H,function(){return"value_pred("+this.I.l()+" "+this.W+(this.$a?"(complement)":"")+" "+this[x]+")"});H.cg=function(){this.Bf();return null!==this[x]&&("between"==this.W||"eq"==this.W||"gt"==this.W||"gte"==this.W||"lt"==this.W||"lte"==this.W)};
H.Ok=function(){L(this.cg(),"Could not convert predicate to key range.");var a=null;"between"==this.W?a=new Xd(this[x][0],this[x][1],!1,!1):"eq"==this.W?(a=this[x],a=new Xd(a,a,!1,!1)):a="gte"==this.W?new Xd(this[x],null,!1,!1):"gt"==this.W?new Xd(this[x],null,!0,!1):"lte"==this.W?new Xd(null,this[x],!1,!1):new Xd(null,this[x],!1,!0);return this.$a?a.Sh():[a]};
function we(a){this.oa=a;this.Dc=this.sa=null}H=we[z];H.Ed=function(a){null===this.sa&&null!=this.D&&(this.sa=xe(this.D));a=this.sa.get(a,null);L(null!==a);return a};function xe(a){var b=new N;a.vc(function(a){b.set(a.ka(),a)});return b}H.nd=function(a){a.D&&(this.D=a.D.Ib());this.Dc=a};H.Kf=function(a,b){var c=new O;a.c()[n](function(a){a.Lb().$i()[n](function(g){if(!b||b[jb](a[g.Hb]))g=this.oa[t](g.sc),c.add(g)},this)},this);return c};
H.ue=function(a,b){var c=new O;a.c()[n](function(a){a.sb()[n](function(a){b&&!b[jb](a)||null===a.M()||a.M()[n](function(a){c.add(a.X())},this)},this)},this);return c};oa(H,function(){L(null==this.Dc);return this});H.ke=function(a){var b=this.D;null!=b&&b.vc(function(b){b instanceof ve&&b[q](a)})};
function ye(a){we[D](this,a)}K(ye,we);function ze(a){var b="";a[n](function(c,d){b+=c.I.l()+" ";b+=1==c.ob?"ASC":"DESC";d<a[y]-1&&(b+=", ")});return b}ye[z].fa=function(){return new O(this.f)};ta(ye[z],function(){var a=new ye(this.oa);a.nd(this);this.h&&(a.h=this.h[w]());this.f&&(a.f=this.f[w]());a.na=this.na;a.ma=this.ma;this.J&&(a.J=this.J[w]());this.la&&(a.la=this.la[w]());this.Qb&&(a.Qb=this.Qb);this.ac&&(a.ac=this.ac);return a});
oa(ye[z],function(a){ye.gb[q][D](this,a);null!=this.Qb&&(this.na=a[this.Qb.tb()]);null!=this.ac&&(this.ma=a[this.ac.tb()]);this.ke(a);return this});
function Ae(a,b){this.Aa=a;this.va=b}Ae[z].mb=G("Aa");Ae[z].Lf=Eb("plan description");Ae[z].fa=G("va");function Be(a){var b=new O;a[n](function(a){b[mb](a.fa())});return b};

function Ce(a,b){this.global=a;this.zb=a.o(wd);this.Ud=b.map(function(a){return a[Ea]});this.xg=b.map(function(a){return a.Xe});this.Df=Be(this.xg);this.Wg=this.gi();this.Xb=Vc()}H=Ce[z];H.gi=function(){return this.Ud[xb](function(a){return!(a instanceof ye)})?1:0};
ia(H,function(){var a=new Rd(this[Ua],this.Df.c()),b=[],c=this.xg[w](),d=J(function(){var g=c[Ia]();if(g){var h=this.Ud[b[y]];return g.mb()[Ja](a,h)[A](function(a){b[v](a[0]);return d()})}return Qc()},this);return d()[A](J(function(){return this.zb.Jb(this.Wg,a).V()},this))[A](J(function(){this.Ue(b);return b},this),J(function(b){a.Db();throw b;},this))});H.$=G("Wg");H.fa=G("Df");H.Nc=G("Xb");H.ka=function(){return Pb(this)};H.Ue=Cb();
function De(a,b){Ce[D](this,a,b);this.Bb=a.o(Bd)}K(De,Ce);xa(De[z],Eb(0));De[z].Ue=function(a){this.Ud[n](function(b,c){this.Bb.Yg(b,a[c])},this)};
function Ee(a,b){this.m=a;this.Bb=a.o(Bd);this.Va=a.o(Ad);this.Kd=new Od(a);this.Fb=b;var c=a.o(Cd),d=this.Fb.map(function(a){return c[t](a[k]())});this.va=new O(d);this.Xb=Vc()}H=Ee[z];ia(H,function(){this.Kd[Ab](this.Fb);this.cd();return Qc()});H.$=Eb(1);H.fa=G("va");H.Nc=G("Xb");H.ka=function(){return Pb(this)};xa(H,Eb(1));H.cd=function(){var a=this.Bb.Ge(this.va.c());0!=a[y]&&(a=new De(this.m,a),this.Va.Yb(a))};
function Fe(a){this.m=a;this.zb=a.o(wd);this.Va=a.o(Ad)}Fe[z].Kk=function(){this.zb.subscribe(this.Se[q](this))};Fe[z].Se=function(a){a=new Ee(this.m,a);this.Va.Yb(a)};


function Q(a,b){this.Pa=a;this.j=b;this.hb=new N}I("lf.backstore.FirebaseRawBackStore",Q,void 0);H=Q[z];H.Fd=G("j");H.Gd=function(){throw new P(51);};function He(a,b){var c=Vc(),d=a;b[y]&&(d=a[hb](b));d[eb]("value",function(a){c[wb](a.val())},function(a){c[kb](a)});return c.ga}function Ie(a,b,c){function d(a){a?g[kb](a):g[wb]()}c=c||!1;var g=Vc();c?a.set(b,d):a[Ab](b,d);return g.ga}
H.Da=function(a){return He(this.j,"@rev/R")[A](function(a){this.Ua=a;return He(this.j,"@table")}[q](this))[A](function(b){var c=0,d;for(d in b)this.hb.set(d,b[d]),b[d]>c&&(c=b[d]);a.Wa()[n](function(a){this.hb.A(a[k]())||(b[a[k]()]=++c)},this);d=this.j[hb]("@table");return Ie(d,b)}[q](this))};
H.ce=function(a,b){var c=this.hb.get(a);return null!=c?function(){var a={},g=Vc();this.j[Na]("T").equalTo(c)[eb]("value",function(c){c[n](function(c){var g=b(c.val());a[ga(c.key(),10)]=g});g[wb](a)});return g.ga}[D](this)[A](function(a){a["@rev"]={R:++this.Ua};return Ie(this.j,a)}[q](this)):Qc()};H.Gc=function(a){return this.ce(a,Eb(null))[A](function(){this.hb[m](a);return Ie(this.j[hb]("@table/"+a),null,!0)}[q](this))};Q[z].dropTable=Q[z].Gc;
Q[z].zc=function(a,b,c){return this.ce(a,function(a){var g=a.P;g[b]=c;return{R:this.Ua+1,T:a.T,P:g}}[q](this))};Q[z].addTableColumn=Q[z].zc;Q[z].Hc=function(a,b){return this.ce(a,function(a){var d=a.P;delete d[b];return{R:this.Ua+1,T:a.T,P:d}}[q](this))};Q[z].dropTableColumn=Q[z].Hc;Q[z].bd=function(a,b,c){return this.ce(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Ua+1,T:a.T,P:g}}[q](this))};Q[z].renameTableColumn=Q[z].bd;Q[z].Ab=function(){throw new P(51);};Q[z].createRow=Q[z].Ab;
Q[z].Qc=G("Pa");Q[z].getVersion=Q[z].Qc;Q[z].kc=function(a){var b=Vc();a=this.hb.get(a);this.j[Na]("T").equalTo(a)[eb]("value",function(a){var d=[];a[n](function(a){d[v](a.val().P)});b[wb](d)});return b.ga};qa(Q[z],function(){var a={},b=this.hb.H().map(function(b){return this.kc(b)[A](function(d){a[b]=d})}[q](this));return Uc(b)[A](function(){return a})});qa(Q[z],Q[z].dump);
function Je(a,b,c){id[D](this,c,b);this.j=a}K(Je,id);Je[z].X=function(a){return this.j.Oc(a)};
Je[z].V=function(){Je.gb.V[D](this);var a=this.dj().Qf();if(0==a.qa())this.ca[wb]();else{var b=this.j.mj()+1;this.j.Mg(b);var c={"@rev":{R:b}};a[n](function(a){var g=this.j.Vf(a[k]());a.wd()[n](function(a,d){c[d]={R:b,T:g,P:a.w()}});a.Cd()[n](function(a,d){c[d]={R:b,T:g,P:a[1].w()}});a.xd()[n](function(a,b){c[b]=null})},this);this.j.kj()[Ab](c,function(c){if(null===c)this.ca[wb]();else this.j.Mg(b-1),c=a.c().map(function(a){return this.j.Dg(a[k]())},this),Uc(c)[A](this.ca[kb][q](this.ca),this.ca[kb][q](this.ca))}[q](this))}return this.ca.ga};
function Ke(){this.qb=new N}H=Ke[z];H.Fe=function(a){if(0==a[y])return this.qb.c();var b=[];a[n](function(a){a=this.qb.get(a,null);null===a||b[v](a)},this);return b};H.getData=G("qb");H.get=function(a){return Qc(this.Fe(a))};H.Ye=function(a){a[n](function(a){this.qb.set(a.id(),a)},this)};H.put=function(a){this.Ye(a);return Qc()};H.Eg=function(a){0==a[y]||a[y]==this.qb.qa()?this.qb[Qa]():a[n](function(a){this.qb[m](a)},this)};ka(H,function(a){this.Eg(a);return Qc()});
H.ej=function(){return this.qb.Ja()?0:this.qb.H()[lb](function(a,b){return a>b?a:b},0)};
function Le(a,b){this.s=a;this.ih=b;this.ad=new N;this.Ua=-1;this.F=new N;this.hb=new N;this.le=null}H=Le[z];H.mj=G("Ua");H.Mg=Db("Ua");
H.Da=function(a){this.j=this.ih[hb](this.s[sb]());var b=a||function(){return Qc()};return He(this.j,"@db/version")[A](function(a){return null===a?Ie(this.j,this.Yh(),!0)[A](function(){var a=new Q(0,this.j);return b(a)}[q](this)):a==this.s[Ga]()?He(this.j,"@rev/R")[A](function(a){this.Ua=a;return He(this.j,"@table")}[q](this))[A](function(a){for(var b in a)this.hb.set(b,a[b]);a=this.s.Wa().map(function(a){return this.Dg(a[k]())},this);return Uc(a)}[q](this))[A](function(){this.Ej();this.ng();return Qc()}[q](this)):
this.Ve(a,b)[A](function(){return this.Da()}[q](this))}[q](this))};H.Ve=function(a,b){var c=new Q(a,this.j);return c.Da(this.s)[A](function(){return this.Tk()}[q](this))[A](function(){return b(c)})[A](function(){var a=this.j[hb]("@db");return Ie(a,{version:this.s[Ga]()},!0)}[q](this))};H.Tk=function(){return Qc()};H.ng=function(){this.j.off();this.j.on("child_removed",this.Zj[q](this));this.me&&(this.me.off(),this.ad[Qa]());this.me=this.j[Na]("R").startAt(this.Ua+1);this.me.on("value",this.Se[q](this))};
H.Ej=function(){bd=this.F.c().map(function(a){return a.ej()})[lb](function(a,b){return a>b?a:b},0)+1};H.Zj=function(a){var b=a.val(),c=this.ad.get(b.T,null);null===c&&(c=new O,this.ad.set(b.T,c));c.add(ga(a.key(),10))};H.Se=function(a){var b=a[hb]("@rev/R").val();null!=b&&b!=this.Ua&&(this.Ua=b,a=this.Mi(a),a[n](function(a){var b=this.F.get(a[k]()),g=a.xd().H();g[y]&&b.Eg(g);var h=a.wd().c();a.Cd()[n](function(a){h[v](a[1])});b.Ye(h)},this),a[y]&&this.Xc(a),this.ng())};
H.Mi=function(a){var b=new O,c=new N;this.hb[n](function(a,g){var h=this.F.get(g),l=new Qd(g);if(this.ad.A(a)){var p=this.ad.get(a).c();b[mb](p);h.Fe(p)[n](function(a){l[rb](a)})}c.set(a,l)}[q](this));a[n](function(a){if("@rev"!=a.key()){var g=ga(a.key(),10);if(!b[jb](g)){a=a.val();var h=c.get(a.T),l=this.F.get(h[k]());l.getData().A(g)?h.modify([l.Fe([g])[0],new ad(g,a.P)]):h.add(new ad(g,a.P))}}}[q](this));return c.c()[Fa](function(a){return!a.Ja()})};
H.Dg=function(a){var b=Vc(),c=this.Vf(a);this.j[Na]("T").equalTo(c)[eb]("value",function(c){var g=new Ke,h=[];c[n](function(a){h[v](new ad(ga(a.key(),10),a.val().P))});g.Ye(h);this.F.set(a,g);b[wb]()}[q](this));return b.ga};H.Vf=function(a){return this.hb.get(a)};H.Yh=function(){var a={};a["@db"]={version:this.s[Ga]()};a["@rev"]={R:1};this.Ua=1;a["@table"]={};this.s.Wa()[n](function(b,c){var d=b[k]();a["@table"][d]=c;this.F.set(d,new Ke);this.hb.set(d,c)},this);return a};
H.Jb=function(a,b){return new Je(this,a,b)};H.Oc=function(a){var b=this.F.get(a,null);if(null!==b)return b;throw new P(101,a);};H.kj=G("j");sa(H,Cb());za(H,Db("le"));H.Xc=function(a){null!=this.le&&this.le(a)};
function R(a,b,c,d){this.j=b;this.Oa=c;this.Pa=a;this.jd=d}I("lf.backstore.IndexedDBRawBackStore",R,void 0);R[z].Fd=G("j");R[z].getRawDBInstance=R[z].Fd;R[z].Gd=G("Oa");R[z].getRawTransaction=R[z].Gd;R[z].Gc=function(a){return new M(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};R[z].dropTable=R[z].Gc;
R[z].ck=function(a,b,c){return new M(function(d,g){var h;try{var l=this.Oa[ob](a);h=l[ub]()}catch(p){g(p);return}Ca(h,function(){var a=h[Ya];a?(b(a),a[Sa]()):(c(l),d())});va(h,g)},this)};function Me(a){var b=null;return b=a instanceof ArrayBuffer?ed(a):a instanceof Date?a[Ra]():a}R[z].hf=function(a,b){function c(a){var c=Jd(a[x]),d=c.oc(),p;for(p in d){var B=cd(d[p]);b(B);d[p]=B.Ga()}a[Ab](c.Ga())}function d(a){var c=cd(a[x]);b(c);a[Ab](c.Ga())}return this.ck(a,this.jd?c:d,Cb())};
R[z].zc=function(a,b,c){var d=Me(c);return this.hf(a,function(a){a.w()[b]=d})};R[z].addTableColumn=R[z].zc;R[z].Hc=function(a,b){return this.hf(a,function(a){delete a.w()[b]})};R[z].dropTableColumn=R[z].Hc;R[z].bd=function(a,b,c){return this.hf(a,function(a){a.w()[c]=a.w()[b];delete a.w()[b]})};R[z].renameTableColumn=R[z].bd;
R[z].qj=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Oa[ob](a)[ub]()}catch(h){d(h);return}Ca(g,J(function(){var a=g[Ya];if(a){if(this.jd){var d=Jd(a[x]).oc(),h;for(h in d)b[v](d[h])}else b[v](a[x]);a[Sa]()}else c(b)},this));va(g,d)},this)};R[z].Ab=function(a){var b={};tc(a,J(function(a,d){b[d]=Me(a)},this));return dd(b)};R[z].createRow=R[z].Ab;R[z].Qc=G("Pa");R[z].getVersion=R[z].Qc;
qa(R[z],function(){for(var a=this.j[Ma],b=[],c=0;c<a[y];++c){var d=a[nb](c);b[v](this.kc(d))}return Uc(b)[A](function(b){var c={};b[n](function(b,d){c[a[nb](d)]=b});return c})});qa(R[z],R[z].dump);R[z].kc=function(a){return this.qj(a)[A](function(a){return a.map(function(a){return a[x]})})};
function Ne(a,b){this.S=a;this.Kb=b}H=Ne[z];H.get=function(a){if(0==a[y])return this.ye();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.S.get(a)}catch(h){d(h);return}va(g,d);Ca(g,J(function(a){c(this.Kb(a[vb][Ya]))},this))},this)},this);return Uc(a)};H.ye=function(){return new M(function(a,b){var c=[],d;try{d=this.S[ub]()}catch(g){b(g);return}va(d,b);Ca(d,J(function(){var b=d[Ya];b?(c[v](this.Kb(b[x])),b[Sa]()):a(c)},this))},this)};
H.Ub=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}Ca(d,b);va(d,c)},this)};H.put=function(a){if(0==a[y])return Qc();a=a.map(function(a){return this.Ub(J(function(){return this.S.put(a.Ga())},this))},this);return Uc(a)};
ka(H,function(a){return new M(function(b,c){var d=this.S.count();Ca(d,J(function(d){if(0==a[y]||d[vb][Ya]==a[y])return this.Ub(J(function(){return this.S[Qa]()},this))[A](b,c);d=a.map(function(a){return this.Ub(J(function(){return this.S[rb](a)},this))},this);Uc(d)[A](b,c)},this));va(d,c)},this)});
function Oe(a,b,c,d,g){id[D](this,c,d);this.m=a;this.Oa=b;this.jd=g;this.Oa.oncomplete=J(this.ca[wb],this.ca);this.Oa.onabort=J(this.ca[kb],this.ca)}K(Oe,id);Oe[z].X=function(a,b,c){return this.jd?(c=null!=c?c:0,a=this.Oa[ob](a),new Kd(a,b,0==c?Ub(Ld,this.m):Md)):new Ne(this.Oa[ob](a),b)};
function Pe(a,b){this.m=a;this.s=b;this.kd=b.yg().ii||!1}H=Pe[z];H.Da=function(a){var b=aa.indexedDB||aa.mozIndexedDB||aa.webkitIndexedDB||aa.msIndexedDB;if(null==b)throw new P(52);var c=a||function(){return Qc()};return new M(function(a,g){var h;try{h=b.open(this.s[sb](),this.s[Ga]())}catch(l){g(l);return}va(h,g);h.onupgradeneeded=J(function(a){this.bk(c,a)[A](Cb(),g)},this);Ca(h,J(function(b){this.j=b[vb][Ya];this.bf()[A](J(function(b){bd=b+1;a(this.j)},this))},this))},this)};
H.bk=function(a,b){var c=b[vb][Ya],d=b[vb][gb],g=new R(b.oldVersion,c,d,this.kd);this.sk(c,d);this.bi(c,d);return a(g)};H.sk=function(a){for(var b=[],c=0;c<a[Ma][y];++c){var d=a[Ma][nb](c);-1!=d[pb](".")&&b[v](d)}b[n](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.bi=function(a,b){this.s.Wa()[n](Ub(this.Zh,a,b),this)};H.Zh=function(a,b,c){a[Ma][jb](c[k]())||a.createObjectStore(c[k](),{keyPath:"id"});c.Vb()&&(c.Ia()[n](function(c){this.Fc(a,b,c.l(),"btree")},this),this.Fc(a,b,c.Nb(),"rowid"))};
H.Fc=function(a,b,c,d){a[Ma][jb](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[ob](c),(this.kd?new Kd(a,cd,Md):new Ne(a,cd)).put([new gd(new fd(d))]))};H.Jb=function(a,b){var c=b.fa().c().map(function(a){return a[k]()});b.bj()[n](function(a){c[v](a)});var d=this.j[gb](c,0==a?"readonly":"readwrite");return new Oe(this.m,d,b,a,this.kd)};
H.bf=function(a){function b(){if(0==c[y])return Qc();var a=c[Ia]();return l(a)[A](b)}var c=this.s.Wa().map(function(a){return a[k]()}),d=this.j,g=0,h=J(function(a){return this.kd?(a=Jd(a[x]),wc(a.oc())[lb](function(a,b){return ea.max(a,b)},0)):a.key},this),l=J(function(b){return new M(function(c,l){var Ge;try{Ge=(a||d[gb]([b]))[ob](b)[ub](null,"prev")}catch(fh){l(fh);return}Ca(Ge,function(a){(a=a[vb][Ya])&&(g=ea.max(g,h(a)));c(g)});va(Ge,function(){c(g)})},this)},this);return new M(function(a){b()[A](function(){a(g)})})};
sa(H,function(){this.j[db]()});H.Oc=function(){throw new P(511);};za(H,Cb());H.Xc=Cb();



function Qe(a,b,c){id[D](this,c,b);this.S=a;0==b&&this.ca[wb]()}K(Qe,id);Qe[z].X=function(a){return this.S.Oc(a)};Qe[z].V=function(){Qe.gb.V[D](this);this.ca[wb]();return this.ca.ga};
function Re(a){this.s=a;this.F=new N}H=Re[z];H.Da=function(){this.s.Wa()[n](this.Fj,this);return Qc()};H.Oc=function(a){var b=this.F.get(a,null);if(null===b)throw new P(101,a);return b};H.Jb=function(a,b){return new Qe(this,a,b)};H.Ef=function(a){if(!this.F.A(a)){var b=new Ke;this.F.set(a,b);return b}return null};H.Fj=function(a){this.Ef(a[k]());a.Vb()&&(a.Ia()[n](function(a){this.Fc(a.l(),"btree")},this),this.Fc(a.Nb(),"rowid"))};H.Fc=function(a,b){var c=this.Ef(a);null===c||c.put([new gd(new fd(b))])};
sa(H,Cb());za(H,Cb());H.Xc=Cb();
function Se(a){Re[D](this,a);this.Pd=null}K(Se,Re);za(Se[z],function(a){null===this.Pd&&(this.Pd=a)});Se[z].Xc=function(a){null===this.Pd||this.Pd(a)};
function Te(a,b,c){this.Oa=a;this.B=b;this.Kb=c}Te[z].get=function(a){var b=this.Kb;this.Oa.La("SELECT id, value FROM "+this.B+" "+(0==a[y]?"":"WHERE id IN ("+a[F](",")+")"),[],function(a){for(var d=a[ib][y],g=e(d),h=0;h<d;++h)g[h]=b({id:a[ib][nb](h).id,value:JSON.parse(a[ib][nb](h)[x])});return g});return this.Oa.V()};
Te[z].put=function(a){if(0==a[y])return Qc();var b="INSERT OR REPLACE INTO "+this.B+"(id, value) VALUES (?, ?)";a[n](function(a){this.Oa.La(b,[a.id(),JSON.stringify(a.w())])},this);return Qc()};ka(Te[z],function(a){this.Oa.La("DELETE FROM "+this.B+" "+(0==a[y]?"":"WHERE id IN ("+a[F](",")+")"),[]);return Qc()});
function Ue(a,b,c){id[D](this,b,c);this.j=a;this.F=new N;this.pe=[]}K(Ue,id);Ue[z].X=function(a,b){var c=this.F.get(a,null);null===c&&(c=new Te(this,a,b),this.F.set(a,c));return c};Ue[z].La=function(a,b,c){this.pe[v]({Lk:a,dk:b,transform:c})};
Ue[z].V=function(){Ue.gb.V[D](this);var a,b,c=this.ca[kb][q](this.ca),d=function(a,b){this.ca[kb](b)}[q](this),g=J(function(c,l){a=l;if(this.pe[y]){var p=this.pe[Ia]();b=p.transform;c.executeSql(p.Lk,p.dk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.ca[wb](p)},this);0==this.Vg?this.j.readTransaction(g,c):this.j[gb](g,c);return this.ca.ga};
function S(a,b,c){this.j=c;this.m=a;this.Pa=b}I("lf.backstore.WebSqlRawBackStore",S,void 0);S[z].Fd=G("j");S[z].getRawDBInstance=S[z].Fd;S[z].Gd=function(){throw new P(56);};S[z].getRawTransaction=S[z].Gd;S[z].sd=function(){return new Ue(this.j,new Rd(this.m,[]),1)};S[z].Gc=function(a){var b=this.sd();b.La("DROP TABLE "+a,[]);return b.V()};S[z].dropTable=S[z].Gc;
S[z].kc=function(a){var b=this.sd();b.La("SELECT id, value FROM "+a,[]);return b.V()[A](function(a){for(var b=a[ib][y],g=e(b),h=0;h<b;++h)g[h]={id:a[ib][nb](h).id,value:JSON.parse(a[ib][nb](h)[x])};return Qc(g)})};S[z].gf=function(a,b){var c=this.sd(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.kc(a)[A](function(a){a[n](function(a){a=b(a);c.La(d,[JSON.stringify(a[x]),a.id])});return c.V()})};S[z].zc=function(a,b,c){var d=Me(c);return this.gf(a,function(a){a[x][b]=d;return a})};
S[z].addTableColumn=S[z].zc;S[z].Hc=function(a,b){return this.gf(a,function(a){delete a[x][b];return a})};S[z].dropTableColumn=S[z].Hc;S[z].bd=function(a,b,c){return this.gf(a,function(a){a[x][c]=a[x][b];delete a[x][b];return a})};S[z].renameTableColumn=S[z].bd;S[z].Ab=function(a){var b={},c;for(c in a)b[c]=Me(a[c]);return dd(b)};S[z].createRow=S[z].Ab;S[z].Qc=G("Pa");S[z].getVersion=S[z].Qc;
function Ve(a){a.La('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[ib][y]),d=0;d<c[y];++d)c[d]=a[ib][nb](d).tbl_name;return c})}qa(S[z],function(){var a=Vc(),b=this.sd();Ve(b);var c={};b.V()[A](J(function(b){b=b[Fa](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.kc(a)[A](function(b){c[a]=b})},this);Uc(b)[A](function(){a[wb](c)})},this));return a.ga});qa(S[z],S[z].dump);
function We(a,b,c){this.m=a;this.s=b;this.Hk=c||4194304}H=We[z];H.yd=function(){return new Rd(this.m,[])};H.Da=function(a){if(null==aa.openDatabase)throw new P(53);var b=a||function(){return Qc()};return new M(J(function(a,d){try{var g=aa.openDatabase(this.s[sb](),"",this.s[sb](),this.Hk);if(null!=g)this.j=g,this.Oh(b)[A](a,d);else throw new P(54);}catch(h){d(h)}},this))};
H.Oh=function(a){var b=Vc(),c=new Ue(this.j,this.yd(),1);c.La("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.La("SELECT v FROM __lf_ver WHERE id = 0",[]);c.V()[A](J(function(c){var g=0;c[ib][y]&&(g=c[ib][nb](0).v);g<this.s[Ga]()?this.Ve(a,g)[A](b[wb][q](b)):g>this.s[Ga]()?b[kb](new P(108)):b[wb]()},this));return b.ga};H.Jb=function(a,b){if(null!=this.j)return new Ue(this.j,b,a);throw new P(2);};sa(H,Cb());H.Oc=function(){throw new P(512);};
H.qg=function(){throw new P(55);};za(H,function(){this.qg()});H.Xc=function(){this.qg()};H.Ve=function(a,b){var c=Vc();this.gk()[A](J(function(){a(new S(this.m,b,this.j))[A](J(function(){return this.bf()},this))[A](c[wb][q](c))},this),c[kb][q](c));return c.ga};
H.gk=function(){var a=this.s.Wa(),b=new Ue(this.j,this.yd(),1),c=new Ue(this.j,this.yd(),1);b.La("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[Ga]()]);Ve(b);return b.V()[A](function(b){b[Fa](function(a){return-1!=a[pb](".")})[n](function(a){c.La("DROP TABLE "+a,[])});var g=b[Fa](function(a){return-1==a[pb](".")});a.map(function(a){return a[k]()})[Fa](function(a){return-1==g[pb](a)})[n](function(a){c.La("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.V()})};
H.bf=function(){var a=0,b=Vc(),c=J(function(b){var c=new Ue(this.j,this.yd(),0);c.La("SELECT MAX(id) FROM "+b,[]);return c.V()[A](function(b){b=b[ib][nb](0)[0];a=ea.max(b,a)})},this),d=this.s.Wa().map(function(a){return c(a[k]())});Uc(d)[A](function(){b[wb](a)},function(a){b[kb](a)});return b.ga};

function Xe(){this.g=new N;ba.defineProperty(this,"size",{get:function(){return this.g.qa()}})}na(Xe[z],function(){this.g[Qa]()});na(Xe[z],Xe[z][Qa]);ya(Xe[z],function(a){return this.g[m](a)});Xe[z]["delete"]=Xe[z][rb];la(Xe[z],function(a,b){return this.g[n](a,b)});la(Xe[z],Xe[z][n]);Xe[z].get=function(a){return this.g.get(a)};Xe[z].get=Xe[z].get;Xe[z].has=function(a){return this.g.A(a)};Xe[z].has=Xe[z].has;Xe[z].set=function(a,b){return this.g.set(a,b)};Xe[z].set=Xe[z].set;
var Ye=aa.Map&&aa.Map[z][Pa]&&aa.Map[z][n]?aa.Map:Xe;function Ze(a){if(a instanceof Xe)return a.g.H();var b=0,c=e(a[Za]);a[n](function(a,g){c[b++]=g});return c}function $e(a){if(a instanceof Xe)return a.g.c();var b=0,c=e(a[Za]);a[n](function(a){c[b++]=a});return c};
function af(a){this.Zb=new O(a);ba.defineProperty(this,"size",{get:function(){return this.Zb.qa()}})}af[z].add=function(a){this.Zb.add(a)};af[z].add=af[z].add;na(af[z],function(){this.Zb[Qa]()});na(af[z],af[z][Qa]);ya(af[z],function(a){return this.Zb[m](a)});af[z]["delete"]=af[z][rb];la(af[z],function(a,b){this.Zb.c()[n](a,b)});af[z].has=function(a){return this.Zb[jb](a)};af[z].has=af[z].has;var bf=aa.Set&&aa.Set[z][Pa]&&aa.Set[z][n]?aa.Set:af;
function cf(a){if(a instanceof af)return a.Zb.c();var b=0,c=e(a[Za]);a[n](function(a){c[b++]=a});return c};
function df(){this.g=new Ye;this.Rg=new Ye}H=df[z];H.Hd=function(a){var b=this.Rg.get(a);Gb(b)||(b=new bf,this.Rg.set(a,b));return b};H.set=function(a,b){var c=this.Hd(a);b[n](J(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.g.get(a)||null},this))};
H.Za=function(a,b,c){var d=[],g=ea.min(b,c),h=ea.max(b,c);a=this.Hd(a);if(a[Za]<h-g)a[n](function(a){a>=g&&a<=h&&(a=this.g.get(a),L(null!=a,"Inconsistent cache"),d[v](a))},this);else for(b=g;b<=h;++b)a.has(b)&&(c=this.g.get(b),L(null!=c,"Inconsistent cache"),d[v](c));return d};ka(H,function(a,b){var c=this.Hd(a);b[n](function(a){this.g[rb](a);c[rb](a)},this)});H.qa=function(a){return null!=a?this.Hd(a)[Za]:this.g[Za]};
function ef(a,b,c,d){a=b?a.reverse():a;if(null==c&&null==d)return a;c=ea.min(Gb(c)?c:a[y],a[y]);if(0==c)return[];d=ea.min(d||0,a[y]);return a[w](d,d+c)};
function ff(a,b,c,d){this.B=a;this.L=b;this.kf=c;if(d){a=511;a*=a*a;if(d[y]>=a)throw new P(6,a);d=gf(this,d);this.ta=d=hf(d)}else this[Qa]()}var jf=[];H=ff[z];ja(H,G("B"));f(H,function(){return this.ta[r]()});H.add=function(a,b){this.ta=this.ta.wb(a,b)};H.set=function(a,b){this.ta=this.ta.wb(a,b,!0)};ka(H,function(a,b){this.ta=this.ta[m](a,b)});H.get=function(a){return this.ta.get(a)};H.rd=function(a){return null!=a?this.Za([a])[y]:this.Za()[y]};
H.Za=function(a,b,c,d){var g=this.ta.Bd().b[0];if(!Gb(g)||0==c)return jf;var h=(c||0)+(d||0),h=0<h&&!b?h:Number.POSITIVE_INFINITY,l=[];(Gb(a)?this.L.Pg(a):[this.L.xe()])[n](function(a){for(var b=this.L.Vd(a),b=this.L.Le(a)?g:b[0],b=this.ta.Pf(b),c=0;null!=b&&l[y]<h;)0!=b.Za(a,l)?c=0:c++,b=2==c?null:b[ab]()},this);return ef(l,b,c,d)};na(H,function(){this.ta=kf(this)});H.A=function(a){return this.ta.A(a)};H.min=function(){return this.Wc(J(this.L.min,this.L))};
H.max=function(){return this.Wc(J(this.L.max,this.L))};H.Wc=function(a){var b=this.ta.Bd(),c=this.ta.Uf();if(0==b.b[y]&&0==c.b[y])return[null,null];var d=b.b[0],b=b.U[0],g=c.b[c.b[y]-1],c=c.U[c.b[y]-1];return 1==a(d,g)?[d,this.kf?[b]:b]:[g,this.kf?[c]:c]};H.Tc=G("kf");H.Ec=G("L");H.Qe=function(a,b){return null!=a?-1==this.L[Xa](a,b):!1};H.Qa=function(a,b){return null!=a?0==this.L[Xa](a,b):!1};H.Ga=function(){for(var a=[],b=this.ta.Bd();b;)a[v](new ad(b.xa,[b.b,b.U])),b=b.za;return a};
function mf(a,b,c,d){a=new ff(b,a,c);d=nf(d,a);a.ta=d;return a}function of(a,b){this.xa=a;this.Z=b;this.nb=0;this.za=this.xb=this.C=null;this.b=[];this.U=[];this.i=[]}function kf(a){return new of(bd++,a)}H=of[z];H.da=function(){return 0==this.nb};H.gg=function(){return null==this.C};ra(H,G("za"));
function pf(a){function b(a){return null!=a?a.xa[r]():"_"}var c=a.xa+"["+a.b[F]("|")+"]",d=a.i.map(function(a){return a.xa})[F]("|"),g=a.U[F]("/"),h=b(a.xb)+"{",h=a.da()?h+g:h+d,h=h+"}"+b(a.C);a.za&&(a=pf(a.za),c=c+"  "+a[0],h=h+"  "+a[1]);return[c,h]}f(H,function(){var a="",b=pf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.i[y]&&(a+=this.i[0][r]());return a});H.Bd=function(){return this.da()?this:this.i[0].Bd()};H.Uf=function(){return this.da()?this:this.i[this.i[y]-1].Uf()};
function qf(a,b){b&&(b.xb=a);a&&(a.za=b)}function gf(a,b){for(var c=b[y],d=0,g=kf(a),h=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[w](d,d+l);g.b=p.map(function(a){return a.key});g.U=p.map(function(a){return a[x]});d+=l;c-=l;0<c&&(l=kf(g.Z),qf(g,l),g=l)}return h}function rf(a){var b=a[0],c=kf(b.Z);c.nb=b.nb+1;c.i=a;for(b=0;b<a[y];++b)a[b].C=c,0<b&&c.b[v](a[b].b[0]);return c}
function hf(a){var b=a,c=[];do c[v](b),b=b.za;while(b);if(512>=c[y])b=rf(c);else{var d=c[y],g=0,b=kf(a.Z);for(b.nb=a.nb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var h=c[w](g,g+a),l=rf(h);l.C=b;b.i[y]&&(b.b[v](h[0].b[0]),qf(b.i[b.i[y]-1],l));b.i[v](l);g+=a;d-=a}}return b}H.get=function(a){var b=this.dd(a);if(this.da()){var c=jf;this.Z.Qa(this.b[b],a)&&(c=c[La](this.U[b]));return c}b=this.Z.Qa(this.b[b],a)?b+1:b;return this.i[b].get(a)};
H.A=function(a){var b=this.dd(a);return this.Z.Qa(this.b[b],a)?!0:this.da()?!1:this.i[b].A(a)};ka(H,function(a,b){this.Hf(a,-1,b);if(this.gg()){var c=this;1==this.i[y]&&(c=this.i[0],c.C=null);return c}return this});function sf(a){return a.da()?a.b[0]:sf(a.i[0])}H.ud=function(){this.b=[];for(var a=1;a<this.i[y];++a)this.b[v](sf(this.i[a]))};
H.Hf=function(a,b,c){var d=this.dd(a);if(!this.da()){var g=this.Z.Qa(this.b[d],a)?d+1:d;if(this.i[g].Hf(a,g,c))this.ud();else return!1}else if(!this.Z.Qa(this.b[d],a))return!1;if(this.b[y]>d&&this.Z.Qa(this.b[d],a)){if(Gb(c)&&!this.Z.Tc()&&this.da()&&(a=this.U[d],c=oc(a,pc,!1,c),0<=c&&ic(a,c),this.U[d][y]))return!1;this.b[E](d,1);this.da()&&this.U[E](d,1)}256>this.b[y]&&!this.gg()&&(this.Mk()||this.Vj(b));return!0};
H.Mk=function(){var a=null,b,c,d;if(this.za&&256<this.za.b[y])a=this.za,c=b=0,d=this.b[y]+1;else if(this.xb&&256<this.xb.b[y])a=this.xb,b=this.xb.b[y]-1,c=this.da()?b:b+1,d=0;else return!1;this.b[E](d,0,a.b[b]);a.b[E](b,1);b=this.da()?this.U:this.i;var g=null;this.da()?g=a.U:(g=a.i,g[c].C=this);b[E](d,0,g[c]);g[E](c,1);a.da()||(a.ud(),this.ud());return!0};
H.Vj=function(a){var b,c,d;this.za&&511>this.za.b[y]?(b=this.za,d=c=0):this.xb&&(b=this.xb,c=b.b[y],d=b.da()?b.U[y]:b.i[y]);c=[c,0][La](this.b);e[z][E][u](b.b,c);c=null;this.da()?c=this.U:(c=this.i,c[n](function(a){a.C=b}));c=[d,0][La](c);e[z][E][u](b.da()?b.U:b.i,c);qf(this.xb,this.za);b.da()||b.ud();-1!=a&&(this.C.b[E](a,1),this.C.i[E](a,1))};
H.wb=function(a,b,c){var d=this.dd(a);if(this.da()){if(this.Z.Qa(this.b[d],a)){if(c)return this.U[d]=this.Z.Tc()?b:[b],this;if(this.Z.Tc())throw new P(201);if(this.U[d])return qc(this.U[d],b),this;this.U[d]=[b]}this.b[E](d,0,a);this.U[E](d,0,this.Z.Tc()?b:[b]);return 512==this.b[y]?this.Jk():this}d=this.Z.Qa(this.b[d],a)?d+1:d;a=this.i[d].wb(a,b,c);a.da()||1!=a.b[y]||(this.b[E](d,0,a.b[0]),a.i[1].C=this,a.i[0].C=this,this.i[E](d,1,a.i[1]),this.i[E](d,0,a.i[0]));return 512==this.b[y]?this.Ik():this};
H.Jk=function(){var a=kf(this.Z),b=kf(this.Z);b.nb=1;b.b=[this.b[256]];b.i=[this,a];b.C=this.C;this.C=b;a.b=this.b[E](256);a.U=this.U[E](256);a.C=b;qf(a,this.za);qf(this,a);return b};H.Ik=function(){var a=kf(this.Z),b=kf(this.Z);a.C=this.C;a.nb=this.nb+1;a.b=[this.b[256]];a.i=[this,b];this.b[E](256,1);b.C=a;b.nb=this.nb;b.b=this.b[E](256);b.i=this.i[E](257);b.i[n](function(a){a.C=b});this.C=a;qf(b,this.za);qf(this,b);return a};
H.dd=function(a){for(var b=0,c=this.b[y];b<c;){var d=b+c>>1;this.Z.Qe(this.b[d],a)?b=d+1:c=d}return b};H.Pf=function(a){if(!this.da()){var b=this.dd(a);this.Z.Qa(this.b[b],a)&&b++;return this.i[b].Pf(a)}return this};
H.Za=function(a,b){var c=-1,d=this.b[y]-1,g=this.Z.Ec(),h=J(function(b){for(;b<this.b[y];++b){var h=g.pc(this.b[b],a);if(-1!=c){if(!h){d=b-1;break}}else h&&(c=b)}},this);g.pc(this.b[0],a)?c=0:h(1);if(-1==c)return 0;g.pc(this.b[d],a)||h(c);return d==this.b[y]-1?this.uf(b,this.U[w](c)):d>=c?this.uf(b,this.U[w](c,d+1)):0};H.uf=function(a,b){var c=this.Z.Tc()?b:sc(b);a[v][u](a,c);return c[y]};
function nf(a,b){for(var c=a.map(function(a){var c=new of(a.id(),b);c.b=a.w()[0];c.U=a.w()[1];return c}),d=0;d<c[y]-1;++d)qf(c[d],c[d+1]);return 1<c[y]?hf(c[0]):c[0]};
function tf(a){if(1==a.h[y])return new uf(a.h[0].ob);a=a.h.map(function(a){return a.ob});return new vf(a)}function uf(a){this.od=0==a?wf:xf;this.Re=0==a?function(a){return null!=a?a.reverse():null}:function(a){return a||null};this.ug=0==a?yf:zf}K(uf,Nd);function xf(a,b){return a>b?1:a<b?-1:0}function wf(a,b){return xf(b,a)}function zf(a,b){return $d(a,b)}function yf(a,b){return $d(b,a)}H=uf[z];
H.qe=function(a,b){var c=this.Re(b),d=[null===c.f,null===c.u];if(!d[0]){var g=this.od(a,c.f);d[0]=c.ba?1==g:-1!=g}d[1]||(g=this.od(a,c.u),d[1]=c.ea?-1==g:1!=g);return d};H.compare=function(a,b){return this.od(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.pc=function(a,b){var c=this.qe(a,b);return c[0]&&c[1]};H.xe=function(){return Zd()};H.tg=function(a,b){return this.ug(a,b)};
H.Pg=function(a){return a[Fa](function(a){return null!==a})[yb](J(function(a,c){return this.ug(a,c)},this))};H.Le=function(a){return Kb(this.Re(a).f)};H.Vd=function(a){a=this.Re(a);return[a.f,a.u]};f(H,function(){return this.od==wf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function vf(a){this.Ba=a.map(function(a){return new uf(a)})}K(vf,Nd);H=vf[z];H.we=function(a,b,c){for(var d=0,g=0;g<this.Ba[y]&&0==d;++g)d=c(this.Ba[g],a[g],b[g]);return d};
H.compare=function(a,b){return this.we(a,b,function(a,b,g){return a[Xa](b,g)})};H.min=function(a,b){return this.we(a,b,function(a,b,g){return a.min(b,g)})};H.max=function(a,b){return this.we(a,b,function(a,b,g){return a.max(b,g)})};H.qe=function(a,b){for(var c=[!0,!0],d=0;d<this.Ba[y]&&(c[0]||c[1]);++d){var g=this.Ba[d].qe(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.pc=function(a,b){for(var c=!0,d=0;d<this.Ba[y]&&c;++d)c=this.Ba[d].pc(a[d],b[d]);return c};H.xe=function(){return this.Ba.map(function(a){return a.xe()})};
H.Pg=function(a){var b=a[Fa](function(a){return a[zb](Lb)});a=e(this.Ba[y]);for(var c=0;c<a[y];c++)a[c]=b.map(function(a){return a[c]});a[n](function(a,b){a[yb](J(function(a,c){return this.Ba[b].tg(a,c)},this))},this);b=e(b[y]);for(c=0;c<b[y];c++)b[c]=a.map(function(a){return a[c]});return b[yb](J(function(a,b){for(var c=0,l=0;l<this.Ba[y]&&0==c;++l)c=this.Ba[l].tg(a[l],b[l]);return c},this))};H.Le=function(a){return this.Ba[0].Le(a[0])};
H.Vd=function(a){var b=a.map(function(a,b){return this.Ba[b].Vd(a)[0]},this);a=a.map(function(a,b){return this.Ba[b].Vd(a)[1]},this);return[b,a]};
function Af(a){this.ya=a;this.bb=new O}H=Af[z];ja(H,function(){return this.ya[k]()});H.add=function(a,b){null===a?this.bb.add(b):this.ya.add(a,b)};H.set=function(a,b){null===a?(this.bb[Qa](),this.bb.add(b)):this.ya.set(a,b)};ka(H,function(a,b){null===a?b?this.bb[m](b):this.bb[Qa]():this.ya[m](a,b)});H.get=function(a){return null===a?this.bb.c():this.ya.get(a)};H.rd=function(a){return this.ya.rd(a)};H.Za=function(a,b,c,d){b=this.ya.Za(a,b,c,d);return null!=a?b:b[La](this.bb.c())};
na(H,function(){this.bb[Qa]();this.ya[Qa]()});H.A=function(a){return null===a?!this.bb.Ja():this.ya.A(a)};H.min=function(){return this.ya.min()};H.max=function(){return this.ya.max()};H.Ga=function(){return[new ad(-2,this.bb.c())][La](this.ya.Ga())};H.Ec=function(){return this.ya.Ec()};
function Bf(a){this.B=a;this.yb=new bf;this.L=new uf(1)}H=Bf[z];ja(H,G("B"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.yb.add(a)};H.set=function(a,b){this.add(a,b)};ka(H,function(a){this.yb[rb](a)});H.get=function(a){return this.A(a)?[a]:[]};H.min=function(){return this.Wc(J(this.L.min,this.L))};H.max=function(){return this.Wc(J(this.L.max,this.L))};
H.Wc=function(a){if(0==this.yb[Za])return[null,null];var b=cf(this.yb)[lb](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.rd=function(){return this.yb[Za]};H.Za=function(a,b,c,d){var g=a||[Zd()];a=cf(this.yb)[Fa](function(a){return g[xb](function(b){return this.L.pc(a,b)},this)},this);return ef(a,b,c,d)};na(H,function(){this.yb[Qa]()});H.A=function(a){return this.yb.has(a)};H.Ga=function(){return[new ad(0,cf(this.yb))]};H.Ec=G("L");
function Cf(a,b){var c=new Bf(a);b[0].w()[n](function(a){c.add(a,a)});return c};
function Df(a){this.m=a;this.zb=a.o(wd);this.O=a.o(yd);this.pa=a.o(xd)}H=Df[z];H.Da=function(a){var b=a.Wa(),c=J(function(){if(0==b[y])return Qc();var a=b[Ia]();return(a.Vb()?this.Ai(a):this.Bi(a))[A](c)},this);return c()};H.Bi=function(a){var b=new Rd(this.m,[a]);return this.zb.Jb(0,b).X(a[k](),J(a.jc,a)).get([])[A](J(function(b){this.pa.set(a[k](),b);this.nk(a,b)},this))};H.nk=function(a,b){var c=this.O.pj(a[k]());b[n](function(a){c[n](function(b){var c=a.Uc(b[k]());b.add(c,a.id())})})};
H.Ai=function(a){var b=new Rd(this.m,[a]),c=this.zb.Jb(0,b),b=c.X(a[k](),a.jc).get([])[A](J(function(b){this.pa.set(a[k](),b)},this)),d=a.Ia().map(function(a){return this.pk(a,c)},this)[La](this.qk(a,c));return Uc(d[La](b))};
H.pk=function(a,b){var c=b.X(a.l(),cd,1),d=tf(a);return c.get([])[A](J(function(b){L("btree"==b[0].w().type);if(1<b[y]){if(a.Zf()){var c=mf[q](void 0,d,a.l(),a.Sc),l=b[w](1),p=-1;for(b=0;b<l[y];++b)if(-2==l[b].id()){p=b;break}if(-1==p)throw new P(102);b=l[p].w();l=l[w](0);l[E](p,1);c=c(l);c=new Af(c);c.bb[mb](b)}else c=mf(d,a.l(),a.Sc,b[w](1));this.O.set(c)}},this))};
H.qk=function(a,b){return b.X(a.Nb(),cd,1).get([])[A](J(function(b){L("rowid"==b[0].w().type);1<b[y]&&(b=Cf(a.Nb(),b[w](1)),this.O.set(b))},this))};


function Ef(){this.S=new N}Ef[z].Da=function(a){a.Wa()[n](function(a){var c=a.Nb();if(null===this.get(c)){var d=new Bf(c);this.S.set(c,d)}a.Ia()[n](function(a){this.S.set(a.l(),Ff(a))},this)},this);return Qc()};function Ff(a){var b=tf(a),b=new ff(a.l(),b,a.Sc);return a.Zf()?new Af(b):b}Ef[z].get=function(a){return this.S.get(a,null)};Ef[z].set=function(a){return this.S.set(a[k](),a)};Ef[z].pj=function(a){var b=[],c=a+".";this.S.H()[n](function(a){0==a[pb](c)&&b[v](this.S.get(a))},this);return b};
function Gf(a){this.cb=[];Gb(a)&&this.add(a)}H=Gf[z];f(H,function(){return this.cb.map(function(a){return a[r]()})[F](",")});H.A=function(a){return this.cb[xb](function(b){return b[jb](a)})};H.c=G("cb");
H.add=function(a){if(0!=a[y])if(a=this.cb[La](a),1==a[y])this.cb=a;else{a[yb]($d);for(var b=[],c=a[0],d=1;d<a[y];++d)if(c.vg(a[d])){var g=a[d],h=Zd();if(null!==c.f&&null!==g.f){var l=Yd(c.f,g.f,!0);1!=l?(h.f=c.f,h.ba=0!=l?c.ba:c.ba&&g.ba):(h.f=g.f,h.ba=g.ba)}null!==c.u&&null!==g.u&&(l=Yd(c.u,g.u,!1),-1!=l?(h.u=c.u,h.ea=0!=l?c.ea:c.ea&&g.ea):(h.u=g.u,h.ea=g.ea));c=h}else b[v](c),c=a[d];b[v](c);this.cb=b}};
H.Ic=function(a){return this.cb[y]==a.cb[y]?0==this.cb[y]||this.cb[zb](function(b,c){return b.Ic(a.cb[c])}):!1};function Hf(a,b){var c=[];a.c().map(function(a){return b.c().map(function(b){var c;if(a.vg(b)){c=Zd();var l=Yd(a.f,b.f,!0),l=0==l?a.ba?a:b:-1!=l?a:b;c.f=l.f;c.ba=l.ba;null===a.u||null===b.u?b=null===a.u?b:a:(l=Yd(a.u,b.u,!1),b=0==l?a.ea?a:b:-1==l?a:b);c.u=b.u;c.ea=b.ea}else c=null;return c})})[n](function(a){c=c[La](a)});return new Gf(c[Fa](function(a){return null!==a}))};
function If(a,b){var c=[],d=null,g=null;a.vc(function(a){var l=b(a);null==a[Ha]()?g=l:d.ia(l);var p=a[Ha]();null!==p&&p.wa()==d.wa()&&(p=c[pb](d),-1!=p&&c[E](p,1));1<a.wa()&&c[v](l);d=a.dg()?c[c[y]-1]:l});return g}function Jf(a){return Kf(a,function(a){return a.dg()})}function Lf(a){var b=a[Ha](),c=0;null!==b&&(c=b.M()[pb](a),b[tb](a));var d=a.M()[w]();d[n](function(d,h){a[tb](d);null===b||b.yc(d,c+h)});return{parent:b,children:d}}
function Mf(a,b){a.M()[w]()[n](function(c){a[tb](c);b.ia(c)});a.ia(b)}function Nf(a){L(1==a.wa());var b=a.rb(0);L(1==b.wa());Lf(a);Mf(b,a);return b}function Of(a,b,c){L(1==a.wa());var d=a.rb(0);L(1<d.wa());var g=d.M()[w]();if(!g[xb](function(a){return b(a)}))return a;Lf(a);g[n](function(g,l){if(b(g)){var p=c(a);d.Xd(l);p.ia(g);d.yc(p,l)}});return d}function Pf(a,b,c,d){var g=a[Ha]();null!==g&&(a=g.M()[pb](a),g.Xd(a),g.yc(c,a));b.M()[w]()[n](function(a){b[tb](a);d.ia(a)});return c}
function Kf(a,b,c){function d(a){b(a)&&g[v](a);null!=c&&c(a)||a.M()[n](d)}var g=[];d(a);return g}function Qf(a,b){var c=b||function(a){return a[r]()+"\n"},d="";a.vc(function(a){for(var b=0;b<a.Zi();b++)d+="-";d+=c(a)});return d};

function Rf(a){te[D](this);this.Sb=a;this.$a=!1}K(Rf,te);H=Rf[z];H.Ib=function(){return If(this,function(a){if(a instanceof Rf){var b=new Rf(a.Sb);b.$a=a.$a;b.df(a.ka());return b}return a.Ib()}[q](this))};H.sb=function(a){var b=a||[];this.vc(function(a){a!=this&&a.sb(b)}[q](this));return(new O(b)).c()};H.$d=function(a){this.$a!=a&&(this.$a=a,this.Sb="and"==this.Sb?"or":"and",this.M()[n](function(b){return b.$d(a)}))};H.eval=function(a){var b=this.M().map(function(b){return b.eval(a)});return this.Rh(b)};
H.Rh=function(a){return"and"==this.Sb?ee(a):fe(a)};f(H,function(){return"combined_pred_"+this.Sb[r]()});function Sf(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function Tf(){this[Qa]()}var Uf=ba[z][Va],Vf=ba[z][cb];H=Tf[z];H.set=function(a,b){this.gd(a);var c=!this.Rc(a);this.g[a]=b;if("__proto__"==a||!Wf&&!Uf[D](this.g,a)){delete this.g[a];var d=cc(this.Eb,a);if(c=0>d)d=this.Eb[y];this.Eb[d]=a;this.Yd[d]=b}c&&this.aa++};H.get=function(a,b){this.gd(a);if(this.Rc(a))return this.g[a];var c=cc(this.Eb,a);return 0<=c?this.Yd[c]:b};
ka(H,function(a){this.gd(a);if(this.Rc(a))return this.aa--,delete this.g[a],!0;a=cc(this.Eb,a);return 0<=a?(this.aa--,ic(this.Eb,a),ic(this.Yd,a),!0):!1});H.addAll=function(a){dc(a.H(),function(b){this.set(b,a.get(b))},this)};H.Ja=function(){return!this.aa};H.qa=G("aa");H.A=function(a){this.gd(a);return this.Rc(a)||0<=cc(this.Eb,a)};H.qd=function(a){return uc(this.g,function(b,c){return this.Rc(c)&&Sf(b,a)},this)||0<=cc(this.Yd,a)};
H.H=function(){var a;if(Xf)a=kc(ba.keys(this.g));else{a=[];for(var b in this.g)Vf[D](this.g,b)&&a[v](b)}lc(a,this.Eb);return a};H.c=function(){for(var a=[],b=this.H(),c=0;c<b[y];c++)a[v](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.H(),c=0;c<b[y];c++){var d=b[c];a[v]([d,this.get(d)])}return a};na(H,function(){this.g=Wf?ba[Wa](null):{};this.Eb=[];this.Yd=[];this.aa=0});ta(H,function(){var a=new Tf;a[mb](this);return a});
H.Rc=function(a){return"__proto__"==a?!1:Wf?a in this.g:Vf[D](this.g,a)};H.gd=function(a){L(Nb(a),"key must be a string.")};var Wf=!!ba[Wa],Xf=!!ba.keys;function Yf(){this[Qa]()}H=Yf[z];H.aa=0;na(H,function(){this.aa=0;this.g=new Tf});ta(H,function(){var a=new Yf;a.dh(this);return a});H.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[v](b);this.aa++};H.dh=function(a){dc(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.g.get(a))?kc(a):[]};ka(H,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=jc(c,function(a){return Sf(b,a)});d&&(this.aa--,0==c[y]&&this.g[m](a));return d});H.Ja=function(){return!this.aa};
H.qa=G("aa");H.A=function(a){return this.g.A(a)};H.qd=function(a){return gc(this.g.c(),function(b){return gc(b,function(b){return Sf(b,a)})})};H.H=function(){return this.g.H()};H.c=function(){return sc(this.g.c())};H.getEntries=function(){for(var a=this.H(),b=[],c=0;c<a[y];c++)for(var d=a[c],g=this.get(d),h=0;h<g[y];h++)b[v]([d,g[h]]);return b};
function Zf(a,b,c){te[D](this);this.Sa=a;this.fb=b;this.W=c;this.td=le.Ae().ze(this.Sa.$(),this.W)}K(Zf,te);H=Zf[z];H.Ib=function(){var a=new Zf(this.Sa,this.fb,this.W);a.df(this.ka());return a};H.sb=function(a){return null!=a?(a[v](this.Sa),a[v](this.fb),a):[this.Sa,this.fb]};H.eval=function(a){var b=a[C][Fa](function(a){var b=a.N(this.Sa);a=a.N(this.fb);return this.td(b,a)},this);return new ae(b,a.Y())};f(H,function(){return"join_pred("+this.Sa.l()+", "+this.fb.l()+")"});
H.vf=function(a){return-1!=a.Y()[pb](this.Sa.X().Ca())};H.kh=function(a){return-1!=a.Y()[pb](this.fb.X().Ca())};H.fi=function(a,b){var c=null,d=null;this.vf(a)?(this.xf(a,b),c=a,d=b):(this.xf(b,a),c=b,d=a);return[c,d]};H.xf=function(a,b){L(this.vf(a),"Mismatch between join predicate left operand and right relation.");L(this.kh(b),"Mismatch between join predicate right operand and right relation.")};H.mi=function(a,b){var c=this.fi(a,b),d=c[0],c=c[1];return"eq"==this.W?this.ni(d,c):this.oi(d,c)};
H.oi=function(a,b){for(var c=[],d=a.Y(),g=b.Y(),h=0;h<a[C][y];h++)for(var l=0;l<b[C][y];l++)if(this.td(a[C][h].N(this.Sa),b[C][l].N(this.fb))){var p=je(a[C][h],d,b[C][l],g);c[v](p)}d=a.Y()[La](b.Y());return new ae(c,d)};
H.ni=function(a,b){var c=a,d=b,g=this.Sa,h=this.fb;a[C][y]>b[C][y]&&(c=b,d=a,g=this.fb,h=this.Sa);var l=new Yf,p=[];c[C][n](function(a){var b=ha(a.N(g));l.add(b,a)});var B=c.Y(),Ta=d.Y();d[C][n](function(a){var b=ha(a.N(h));l.A(b)&&l.get(b)[n](function(b){b=je(a,Ta,b,B);p[v](b)})});c=a.Y()[La](b.Y());return new ae(p,c)};
function $f(a,b,c){return null===b?new ve(a,b,c):Gb(b.l)?new Zf(a,b,c):new ve(a,b,c)};
var ag={};I("lf.schema.DataStoreType",ag,void 0);ag.INDEXED_DB=0;ag.MEMORY=1;ag.LOCAL_STORAGE=2;ag.FIREBASE=3;ag.WEB_SQL=4;ag.OBSERVABLE_STORE=5;function bg(a,b,c,d){this.ff=a;Aa(this,b);this.Sc=c;this.h=d}bg[z].l=function(){return this.ff+"."+this[sb]};bg[z].Zf=function(){return this.h[xb](function(a){return a.oa.qc()})};function cg(a,b,c,d){this.B=a;this.ra=c;this.G=b;this.Rd=d;this.jb=null}I("lf.schema.Table",cg,void 0);ja(cg[z],G("B"));cg[z].Ya=G("jb");cg[z].Ca=function(){return this.jb||this.B};
cg[z].Ac=function(a){var b=new this.constructor(this.B);b.jb=a;b.Cg=this.Cg;return b};cg[z].as=cg[z].Ac;cg[z].Dk=Db("Cg");cg[z].createRow=cg[z].Ab;cg[z].deserializeRow=cg[z].jc;cg[z].Ia=G("ra");cg[z].sb=G("G");cg[z].getConstraint=cg[z].Lb;cg[z].Vb=G("Rd");cg[z].Nb=function(){return this.B+".#"};
function T(a,b){ua(this,a);this.cc=b;this.jb=null}H=T[z];ja(H,function(){return this.cc+"("+this[hb][k]()+")"});H.l=function(){return this.cc+"("+this[hb].l()+")"};H.X=function(){return this[hb].X()};f(H,function(){return this.l()});H.$=function(){return this[hb].$()};H.Ya=G("jb");H.Ia=function(){return[]};H.qc=Eb(!1);H.Ac=function(a){this.jb=a;return this};T[z].as=T[z].Ac;T[z].Of=function(){for(var a=[this],b=this;b instanceof T;)a[v](b[hb]),b=b[hb];return a};
function dg(a){this.jb=a||null;this.K=new cg("#UnknownTable",[],[],!1)}H=dg[z];ja(H,Eb("*"));H.l=function(){return this[k]()};f(H,function(){return this.l()});H.X=G("K");H.$=Eb(4);H.Ya=G("jb");H.Ia=function(){return[]};H.qc=Eb(!1);
I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);I("lf.fn.count",function(a){return new T(a||new dg,"COUNT")},void 0);function eg(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",eg,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){re[D](this,"","");this.xi=b;this.rg=a}K(U,re);H=U[z];ia(H,function(a,b){switch(this.xi){case 1:return this.si(a,b);case 0:return this.ri(a,b);default:return this.ui(a,b)}});f(H,Eb("dummy_node"));H.ed=function(){return this[r]()};H.wf=function(a){L(-1==this.rg||a[y]==this.rg)};H.ui=function(a,b){return new M(J(function(c){c(this.ja(a,[],b))},this))};H.si=function(a,b){return this.rb(0)[Ja](a,b)[A](J(function(c){this.wf(c);return this.ja(a,c,b)},this))};
H.ri=function(a,b){var c=this.M().map(function(c){return c[Ja](a,b)});return Uc(c)[A](J(function(c){var g=[];c[n](function(a){for(var b=0;b<a[y];++b)g[v](a[b])});this.wf(g);return this.ja(a,g,b)},this))};
function fg(a){U[D](this,-1,1);this.sf=a}K(fg,U);f(fg[z],function(){return"aggregation("+this.sf.map(function(a){return a.l()})[r]()+")"});fg[z].ja=function(a,b){b[n](function(a){(new gg(a,this.sf)).xh()},this);return b};function gg(a,b){this.Fa=a;this.G=b}
gg[z].xh=function(){this.G[n](function(a){a=a.Of().reverse();for(var b=1;b<a[y];b++){var c=a[b],d=c.Of()[w](-1)[0],g=this.cj(c),h=null;switch(c.cc){case "MIN":h=hg(g,d);break;case "MAX":h=ig(g,d);break;case "DISTINCT":h=jg(g,d);break;case "COUNT":h=g[C][y];break;case "SUM":h=kg(g,d);break;case "AVG":0<g[C][y]&&(h=kg(g,d)/g[C][y]);break;case "GEOMEAN":h=lg(g,d);break;default:h=mg(g,d)}this.Fa.zk(c,h)}},this)};gg[z].cj=function(a){return a[hb]instanceof T?this.Fa.nc(a[hb]):this.Fa};
function hg(a,b){var c=null;a[C][n](function(a){a=a.N(b);if(null===c||a<c)c=a});return c}function ig(a,b){var c=null;a[C][n](function(a){a=a.N(b);if(null===c||a>c)c=a});return c}function kg(a,b){return a[C][lb](function(a,d){return a+d.N(b)},0)}function mg(a,b){var c=a[C].map(function(a){return a.N(b)});return nd[u](null,c)}function lg(a,b){var c=0,d=a[C][lb](function(a,d){var l=d.N(b);return 0!=l?(c++,a+ea.log(l)):a},0);return 0==c?null:ea.pow(ea.E,d/c)}
function jg(a,b){var c=new N;a[C][n](function(a){var g=a.N(b);c.set(g,a)});return new ae(c.c(),a.Y())};
function ng(a,b){this.Aa=a;this.va=b}ng[z].mb=G("Aa");ng[z].fa=G("va");function V(){re[D](this,"","")}K(V,re);function og(a,b){V[D](this);pa(this,a);ma(this,b)}K(og,V);function pg(a,b){og[D](this,a,b)}K(pg,og);function qg(a){V[D](this);pa(this,a)}K(qg,V);f(qg[z],function(){return"delete("+this[t][k]()+")"});function rg(a,b){V[D](this);pa(this,a);this.lf=b}K(rg,V);f(rg[z],function(){var a=[];this.lf&&(a=this.lf.map(function(a){return a.I[k]()},this));return"update("+this[t][k]()+", ["+a[F](",")+"])"});
function sg(a){V[D](this);this.Ea=a}K(sg,V);f(sg[z],function(){return"select("+this.Ea[r]()+")"});function tg(a){V[D](this);pa(this,a)}K(tg,V);f(tg[z],function(){var a="table_access("+this[t][k]();null===this[t].Ya()||(a+=" as "+this[t].Ya());return a+")"});function ug(){V[D](this)}K(ug,V);f(ug[z],Eb("cross_product"));function vg(a,b){V[D](this);this.h=a;this.Ob=b}K(vg,V);
f(vg[z],function(){var a="project("+this.h[r]();if(null!==this.Ob)var b=this.Ob.map(function(a){return a.l()})[F](", "),a=a+(", groupBy("+b+")");return a+")"});function wg(a){V[D](this);this.J=a}K(wg,V);f(wg[z],function(){return"order_by("+ze(this.J)+")"});function xg(a){V[D](this);this.h=a}K(xg,V);f(xg[z],function(){return"aggregation("+this.h[r]()+")"});function yg(a){V[D](this);this.h=a}K(yg,V);f(yg[z],function(){return"group_by("+this.h[r]()+")"});function zg(a){V[D](this);this.na=a}K(zg,V);
f(zg[z],function(){return"limit("+this.na+")"});function Ag(a){V[D](this);this.ma=a}K(Ag,V);f(Ag[z],function(){return"skip("+this.ma+")"});function Bg(a){V[D](this);this.Ea=a}K(Bg,V);f(Bg[z],function(){return"join("+this.Ea[r]()+")"});
function Cg(){};
function Dg(){}K(Dg,Cg);Dg[z].Cb=function(a){this.ha=a;this.Xa(this.ha);return this.ha};Dg[z].Xa=function(a){if(a instanceof sg){L(1==a.wa(),"SelectNode must have exactly one child.");var b=this.zf(a.Ea),b=this.$h(b);Pf(a,a,b[0],b[1]);a==this.ha&&(this.ha=b[0]);a=b[0]}a.M()[n](function(a){this.Xa(a)},this)};Dg[z].zf=function(a){if(0==a.wa()||"and"!=a.Sb)return[a];var b=a.M()[w]().map(function(b){a[tb](b);return this.zf(b)},this);return sc(b)};
Dg[z].$h=function(a){var b=null,c=null;a.map(function(a,g){var h=new sg(a);0==g?b=h:c.ia(h);c=h},this);return[b,c]};
function Eg(){}K(Eg,Cg);Eg[z].Cb=function(a){this.ha=a;this.Xa(this.ha);return this.ha};Eg[z].Xa=function(a){if(a instanceof ug)for(;2<a.wa();){for(var b=new ug,c=0;2>c;c++){var d=a.Xd(0);b.ia(d)}a.yc(b,0)}a.M()[n](function(a){this.Xa(a)},this)};
function Fg(){U[D](this,2,0)}K(Fg,U);f(Fg[z],Eb("cross_product"));Fg[z].ja=function(a,b){for(var c=b[0],d=b[1],g=[],h=c.Y(),l=d.Y(),p=0;p<c[C][y];p++)for(var B=0;B<d[C][y];B++){var Ta=je(c[C][p],h,d[C][B],l);g[v](Ta)}c=c.Y()[La](d.Y());return[new ae(g,c)]};

function Gg(a,b){Ce[D](this,a,b);this.Va=a.o(Ad);this.Bb=a.o(Bd)}K(Gg,Ce);xa(Gg[z],Eb(2));Gg[z].Ue=function(a){0==this.$()?this.Xj(a):this.cd()};Gg[z].Xj=function(a){this.Ud[n](function(b,c){b instanceof ye&&this.Bb.Yg(b,a[c])},this)};Gg[z].cd=function(){var a=this.Bb.Ge(this.fa().c());0!=a[y]&&(a=new De(this[Ua],a),this.Va.Yb(a))};
function Hg(a){we[D](this,a)}K(Hg,we);Hg[z].fa=function(){var a=new O([this.f]);a[mb](this.ue(a));return a};ta(Hg[z],function(){var a=new Hg(this.oa);a.nd(this);a.f=this.f;return a});oa(Hg[z],function(a){Hg.gb[q][D](this,a);this.ke(a);return this});
function Ig(a){we[D](this,a)}K(Ig,we);Ig[z].fa=function(){var a=new O([this.Ra]);a[mb](this.Kf(a));this.dc&&a[mb](this.ue(a));return a};ta(Ig[z],function(){var a=new Ig(this.oa);a.nd(this);a.Ra=this.Ra;this[Pa]&&ma(a,this[Pa]instanceof ke?this[Pa]:this[Pa][w]());a.dc=this.dc;a.ec=this.ec;return a});oa(Ig[z],function(a){Ig.gb[q][D](this,a);this.ec&&ma(this,this.ec instanceof ke?a[this.ec.tb()]:this.ec.map(function(b){return b instanceof ke?a[b.tb()]:b}));return this});
function Jg(a){we[D](this,a)}K(Jg,we);Jg[z].fa=function(){var a=new O([this[t]]),b=new O;this.set[n](function(a){b.add(a.I)},this);a[mb](this.Kf(a,b));a[mb](this.ue(a,b));return a};ta(Jg[z],function(){var a=new Jg(this.oa);a.nd(this);pa(a,this[t]);a.set=this.set?this.set[w]():this.set;return a});oa(Jg[z],function(a){Jg.gb[q][D](this,a);this.set[n](function(b){-1!=b.hd&&wa(b,a[b.hd])});this.ke(a);return this});
function Kg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+ed(b)+"'";default:return"'"+b[r]()+"'"}}function Lg(a,b){var c=a.dc?"INSERT OR REPLACE":"INSERT",d=a.Ra.sb(),c=c+(" INTO "+a.Ra[k]()+"("),c=c+d.map(function(a){return a[k]()})[F](", "),c=c+") VALUES (";return a[Pa].map(function(a){var h=d.map(function(c){var d=a.w()[c[k]()];return b?null!=d?"#":"NULL":Kg(c.$(),d)});return c+h[F](", ")+");"})[F]("\n")}
function Mg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Ng(a,b,c,d){return a instanceof ke?"?"+a.tb()[r]():d?null!=a?"#":"NULL":"match"==b?"'"+a[r]()+"'":"in"==b?"("+a.map(function(a){return Kg(c,a)})[F](", ")+")":"between"==b?Kg(c,a[0])+" AND "+Kg(c,a[1]):Kg(c,a)[r]()}
function Og(a,b){return a.M().map(function(a){return"("+Pg(a,b)+")"})[F]("and"==a.Sb?" AND ":" OR ")}function Pg(a,b){if(a instanceof ve)return[a.I.l(),Mg(a.W),Ng(a[x],a.W,a.I.$(),b)][F](" ");if(a instanceof Rf)return Og(a,b);if(a instanceof Zf)return[a.Sa.l(),Mg(a.W),a.fb.l()][F](" ");throw new P(57,typeof a);}function Qg(a,b){var c=Pg(a,b);return c?" WHERE "+c:""}
function Rg(a,b){var c="UPDATE "+a[t][k]()+" SET ",c=c+a.set.map(function(a){var b=a.I.l()+" = ";return-1!=a.hd?b+"?"+a.hd[r]():b+Kg(a.I.$(),a[x])[r]()})[F](", ");a.D&&(c+=Qg(a.D,b));return c+";"}
function Sg(a,b){var c="*";a.h[y]&&(c=a.h.map(function(a){return a.Ya()?a.l()+" AS "+a.Ya():a.l()})[F](", "));var d=a.f.map(function(a){return a.Ca()!=a[k]()?a[k]()+" AS "+a.Ca():a[k]()})[F](", "),c="SELECT "+c+" FROM "+d;a.D&&(c+=Qg(a.D,b));a.J&&(d=a.J.map(function(a){return a.I.l()+(0==a.ob?" DESC":" ASC")})[F](", "),c+=" ORDER BY "+d);a.la&&(d=a.la.map(function(a){return a.l()})[F](", "),c+=" GROUP BY "+d);a.na&&(c+=" LIMIT "+a.na[r]());a.ma&&(c+=" SKIP "+a.ma[r]());return c+";"}
function Tg(a,b){var c=b||!1,d=a.Tf();if(d instanceof Ig)return Lg(d,c);if(d instanceof Hg){var g="DELETE FROM "+d.f[k]();d.D&&(g+=Qg(d.D,c));return g+";"}if(d instanceof Jg)return Rg(d,c);if(d instanceof ye)return Sg(d,c);throw new P(58,typeof d);};
function Ug(a,b){this.global=a;this.lk=a.o(zd);this.Va=a.o(Ad);this.a=b}I("lf.query.BaseBuilder",Ug,void 0);ia(Ug[z],function(){try{this.kb()}catch(a){return Rc(a)}return new M(function(a,c){var d=new Gg(this[Ua],[this.Pc()]);this.Va.Yb(d)[A](function(c){a(c[0].Be())},c)},this)});ia(Ug[z],Ug[z][Ja]);Ug[z].Lf=function(){var a=J(function(a){return a.ed(this.a)+"\n"},this);return Qf(this.Ce().mb(),a)};Ug[z].explain=Ug[z].Lf;oa(Ug[z],function(a){this.a[q](a);return this});oa(Ug[z],Ug[z][q]);
Ug[z].Pk=function(a){return Tg(this,a)};Ug[z].toSql=Ug[z].Pk;H=Ug[z];H.kb=Cb();H.Tf=function(){return this.a.clone()};H.Dd=G("a");H.Ce=function(){null==this.wg&&(this.wg=this.lk.ij(this.a));return this.wg};H.Pc=function(){return{context:this.Tf(),Xe:this.Ce()}};H.gj=function(){return{context:this.Dd(),Xe:this.Ce()}};
function Vg(a){Ug[D](this,a,new Hg(a.o(Cd)))}K(Vg,Ug);I("lf.query.DeleteBuilder",Vg,void 0);Vg[z].f=function(a){this.oh();this.a.f=a;return this};Vg[z].from=Vg[z].f;Vg[z].D=function(a){this.je();this.a.D=a;return this};Vg[z].where=Vg[z].D;Vg[z].oh=function(){if(null!=this.a.f)throw new P(515);};Vg[z].je=function(){if(null!=this.a.D)throw new P(516);};Vg[z].kb=function(){Vg.gb.kb[D](this);if(null==this.a.f)throw new P(517);};
function Wg(a,b){Ug[D](this,a,new Ig(a.o(Cd)));this.a.dc=b||!1}K(Wg,Ug);I("lf.query.InsertBuilder",Wg,void 0);Wg[z].kb=function(){Wg.gb.kb[D](this);var a=this.a;if(null==a.Ra||null==a[Pa])throw new P(518);if(a.dc&&null===a.Ra.Lb().De())throw new P(519);};Wg[z].Ra=function(a){this.ph();this.a.Ra=a;return this};Wg[z].into=Wg[z].Ra;ma(Wg[z],function(a){this.qh();a instanceof ke||a[xb](function(a){return a instanceof ke})?this.a.ec=a:ma(this.a,a);return this});ma(Wg[z],Wg[z][Pa]);
Wg[z].ph=function(){if(null!=this.a.Ra)throw new P(520);};Wg[z].qh=function(){if(null!=this.a[Pa])throw new P(521);};
function Xg(a){return Yg("and",e[z][w][D](arguments))}I("lf.op.and",Xg,void 0);I("lf.op.or",function(a){return Yg("or",e[z][w][D](arguments))},void 0);function Yg(a,b){var c=new Rf(a);b[n](function(a){c.ia(a)});return c}I("lf.op.not",function(a){a.$d(!0);return a},void 0);
function W(a,b){Ug[D](this,a,new ye(a.o(Cd)));this.Nf=this.ah=!1;this.a.h=b;this.Eh();this.Dh()}K(W,Ug);I("lf.query.SelectBuilder",W,void 0);H=W[z];H.kb=function(){W.gb.kb[D](this);var a=this.a;if(null==a.f)throw new P(522);if(Gb(a.Qb)&&!Gb(a.na)||Gb(a.ac)&&!Gb(a.ma))throw new P(523);this.Nh()};H.Eh=function(){var a=this.a.h[Fa](function(a){return a instanceof T&&"DISTINCT"==a.cc},this);if(0!=a[y]&&(1!=a[y]||1!=this.a.h[y]))throw new P(524);};H.Nh=function(){null!=this.a.la?this.Ih():this.Mh()};
H.Ih=function(){var a=this.a.h[Fa](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.la[y]||0==this.a.h[y])b=!0;else{var c=this.a.la.map(function(a){return a.l()});(b=a[xb](function(a){return-1==c[pb](a)}))||(b=this.a.la[xb](function(a){a=a.$();return 6==a||0==a}))}if(b)throw new P(525);};
H.Mh=function(){var a=this.a.h[xb](function(a){return a instanceof T},this),b=this.a.h[xb](function(a){return!(a instanceof T)},this)||0==this.a.h[y];if(a&&b)throw new P(526);};H.Dh=function(){this.a.h[n](function(a){if(a instanceof T&&!Zg(a.cc,a.$()))throw new P(527,a.l());},this)};H.f=function(a){if(this.Nf)throw new P(515);this.Nf=!0;null==this.a.f&&(this.a.f=[]);this.a.f[v][u](this.a.f,e[z][w][D](arguments));return this};W[z].from=W[z].f;
W[z].D=function(a){if(this.ah)throw new P(516);this.ah=!0;this.yf(a);return this};W[z].where=W[z].D;W[z].yf=function(a){null!=this.a.D&&(a=Xg(a,this.a.D));this.a.D=a};W[z].Je=function(a,b){null==this.a.f&&(this.a.f=[]);this.a.f[v](a);this.yf(b);return this};W[z].innerJoin=W[z].Je;W[z].Mj=function(){throw new P(60);};W[z].leftOuterJoin=W[z].Mj;W[z].na=function(a){if(null!=(this.a.na||this.a.Qb))throw new P(528);if(a instanceof ke)this.a.Qb=a;else{if(0>a)throw new P(531);this.a.na=a}return this};
W[z].limit=W[z].na;W[z].ma=function(a){if(null!=(this.a.ma||this.a.ac))throw new P(529);if(a instanceof ke)this.a.ac=a;else{if(0>a)throw new P(531);this.a.ma=a}return this};W[z].skip=W[z].ma;W[z].J=function(a,b){null==this.a.J&&(this.a.J=[]);this.a.J[v]({I:a,ob:null!=b?b:1});return this};W[z].orderBy=W[z].J;W[z].la=function(a){if(null!=this.a.la)throw new P(530);null==this.a.la&&(this.a.la=[]);this.a.la[v][u](this.a.la,e[z][w][D](arguments));return this};W[z].groupBy=W[z].la;
function Zg(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}ta(W[z],function(){var a=new W(this[Ua],this.a.h);a.a=this.a.clone();a.a.Dc=null;return a});ta(W[z],W[z].clone);
function $g(a,b){Ug[D](this,a,new Jg(a.o(Cd)));pa(this.a,b)}K($g,Ug);I("lf.query.UpdateBuilder",$g,void 0);$g[z].set=function(a,b){var c={hd:b instanceof ke?b.tb():-1,I:a,value:b};null!=this.a.set?this.a.set[v](c):this.a.set=[c];return this};$g[z].set=$g[z].set;$g[z].D=function(a){this.je();this.a.D=a;return this};$g[z].where=$g[z].D;$g[z].je=function(){if(null!=this.a.D)throw new P(516);};
$g[z].kb=function(){$g.gb.kb[D](this);if(null==this.a.set)throw new P(532);if(this.a.set[xb](function(a){return a[x]instanceof ke}))throw new P(501);};
function ah(a){this.a=a;this.Aa=null}ah[z].mc=function(){null===this.Aa&&(this.Aa=this.vd());return this.Aa};function bh(a){ah[D](this,a)}K(bh,ah);bh[z].vd=function(){return this.a.dc?new pg(this.a.Ra,this.a[Pa]):new og(this.a.Ra,this.a[Pa])};function ch(a){ah[D](this,a)}K(ch,ah);ch[z].vd=function(){var a=new rg(this.a[t],this.a.set),b=null!=this.a.D?new sg(this.a.D.Ib()):null,c=new tg(this.a[t]);null===b?a.ia(c):(b.ia(c),a.ia(b));return a};
function dh(a,b){this.Aa=a;this.af=b}dh[z].mc=function(){this.af[n](function(a){this.Aa=a.Cb(this.Aa)},this);return this.Aa};
function eh(a){ah[D](this,a)}K(eh,ah);eh[z].vd=function(){var a=new qg(this.a.f),b=null!=this.a.D?new sg(this.a.D.Ib()):null,c=new tg(this.a.f);null===b?a.ia(c):(b.ia(c),a.ia(b));return(new dh(a,[new Dg])).mc()};
function gh(){}K(gh,Cg);gh[z].Cb=function(a){this.ha=a;this.Xa(this.ha);return this.ha};gh[z].Xa=function(a){if(a instanceof sg&&a.Ea instanceof Zf){L(1==a.wa(),"SelectNode must have exactly one child.");var b=a.rb(0);if(b instanceof ug){var c=new Bg(a.Ea);Pf(a,b,c,c);a==this.ha&&(this.ha=c);a=c}}a.M()[n](function(a){this.Xa(a)},this)};
function hh(){this.he=new O}K(hh,Cg);H=hh[z];H.Cb=function(a){this.ha=a;this.Xa(this.ha);this.he[Qa]();return this.ha};H.Xa=function(a){if(this.bg(a)){var b=a.Ea instanceof ve?this.jk(a):this.ik(a);this.he.add(a);b==a&&(b=a.rb(0));null!==b&&(Kb(b[Ha]())&&(this.ha=b),this.bg(b)&&!this.he[jb](b)&&this.Xa(b))}else a.M()[n](function(a){this.Xa(a)},this)};
H.Td=function(a,b){var c=a;if(this.Gk(a))c=Nf(a),this.Td(a,b);else if(this.Fk(a)){var d=[],c=Of(a,b,function(a){a=new sg(a.Ea);d[v](a);return a});d[n](function(a){this.Td(a,b)},this)}return c};H.jk=function(a){var b=new O([a.Ea.I.X().Ca()]),c=function(a){return this.If(a,b)}[q](this);return this.Td(a,c)};H.ik=function(a){var b=new O([a.Ea.Sa.X().Ca(),a.Ea.fb.X().Ca()]),c=function(a){return this.If(a,b)}[q](this);return this.Td(a,c)};
H.If=function(a,b){var c=new O;Jf(a)[n](function(a){c.add(a[t].Ca())},this);a instanceof tg&&c.add(a[t].Ca());return c.Xh(b)};H.bg=function(a){return a instanceof sg&&!(a.Ea instanceof Rf)};H.Fk=function(a){a=a.rb(0);return a instanceof ug||a instanceof Bg};H.Gk=function(a){return a.rb(0)instanceof sg};
function ih(a){ah[D](this,a);this.Bg=this.mg=this.Og=this.sg=this.tf=this.Yf=this.Lg=this.Ff=this.Qg=null}K(ih,ah);H=ih[z];H.vd=function(){this.Qi();var a=this.Th(),b=[new Dg,new Eg,new hh,new gh];return(new dh(a,b)).mc()};H.Qi=function(){this.Wi();this.Li();this.Ui();this.Ri();this.Vi();this.Pi();this.Ni();this.Ki();this.Si()};
H.Th=function(){for(var a=[this.mg,this.Og,this.Bg,this.sg,this.tf,this.Yf,this.Lg,this.Ff],b=null,c=null,d=0;d<a[y];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].ia(g),b=d)}this.Qg[n](function(c){a[b].ia(c)});return c};H.Wi=function(){this.Qg=this.a.f.map(function(a){return new tg(a)},this)};H.Li=function(){2<=this.a.f[y]&&(this.Ff=new ug)};H.Ui=function(){this.Lg=null!=this.a.D?new sg(this.a.D.Ib()):null};H.Ri=function(){this.a.J&&(this.sg=new wg(this.a.J))};
H.Pi=function(){null!=this.a.na&&(this.mg=new zg(this.a.na))};H.Vi=function(){null!=this.a.ma&&0<this.a.ma&&(this.Og=new Ag(this.a.ma))};H.Ni=function(){null!=this.a.la&&(this.Yf=new yg(this.a.la))};H.Ki=function(){var a=this.a.h[Fa](function(a){return a instanceof T});null!=this.a.J&&this.a.J[n](function(b){b.I instanceof T&&a[v](b.I)});0<a[y]&&(this.tf=new xg(a))};H.Si=function(){this.Bg=new vg(this.a.h||[],this.a.la||null)};
function jh(){}jh[z].create=function(a){var b=null;if(a instanceof Ig)b=new bh(a);else if(a instanceof Hg)b=new eh(a);else if(a instanceof ye)b=new ih(a);else if(a instanceof Jg)b=new ch(a);else throw new P(513);b=b.mc();return new ng(b,a.fa())};
function kh(a){U[D](this,1,1);this.K=a}K(kh,U);f(kh[z],function(){return"delete("+this.K[k]()+")"});kh[z].ja=function(a,b){var c=b[0][C].map(function(a){return a.ua});a[m](this.K,c);return[de()]};
function lh(a){U[D](this,1,1);this.Xf=a}K(lh,U);f(lh[z],function(){return"groupBy("+this.Xf.map(function(a){return a.l()})[r]()+")"});lh[z].ja=function(a,b){return this.zh(b[0])};lh[z].zh=function(a){var b=new Yf,c=function(a){return this.Xf.map(function(b){return a.N(b)},this)[F](",")}[q](this);a[C][n](function(a){b.add(c(a),a)},this);return b.H().map(function(c){return new ae(b.get(c),a.Y())},this)};
function mh(a){L(1<a[y],"Should only be called for cross-column indices.");a=a.map(function(a){return a.c()});a=sd[u](null,a);var b=[];rd(a,function(a){b[v](a)});return b}function nh(a){this.Pb=a}nh[z].Ad=function(){return 1==this.Pb.h[y]?[Zd()]:[this.Pb.h.map(function(){return Zd()})]};function oh(a,b){this.Pb=a;this.sa=b;this.oe=this.kg=null}
oh[z].Ah=function(a){var b=new N;this.sa.H()[n](function(c){var d=this.sa.get(c).map(function(b){return a.Ed(b)},this),g=new Gf([Zd()]);d[n](function(a){a=new Gf(a.Ok());g=Hf(g,a)});b.set(c,g)},this);return b};oh[z].Ci=function(a){for(var b=this.Pb.h[y]-1;0<=b;b--){var c=this.Pb.h[b];if(null!==a.get(c.oa[k](),null))break;a.set(c.oa[k](),new Gf([Zd()]))}};oh[z].Ad=function(a){if(this.kg==a)return this.oe;var b=this.Ah(a);this.Ci(b);this.oe=1==this.Pb.h[y]?b.c()[0].c():mh(this.oj(b));this.kg=a;return this.oe};
oh[z].oj=function(a){var b=new N,c=0;this.Pb.h[n](function(a){b.set(a.oa[k](),c);c++});return a.H()[yb](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function ph(a,b){this.Sg=b;this.O=a.o(yd)}ph[z].Ph=function(a,b){var c=b[Fa](this.Gj,this);if(0==c[y])return null;c=this.Oi(c);if(0==c[y])return null;if(1==c[y])return c[0];var d=Number.MAX_VALUE;return c[lb](function(b,c){var l=c.yh(a);return l<d?(d=l,c):b},null)};ph[z].Oi=function(a){return this.Sg.Ia().map(function(b){b=new qh(this.O,b);b.Wh(a);return b},this)[Fa](function(a){return a.Lj()})};ph[z].Gj=function(a){return a instanceof ve&&a.cg()?a.I.X()==this.Sg:!1};
function qh(a,b){this.O=a;this.vb=b;this.$f=new O;this.$f[mb](this.vb.h.map(function(a){return a.oa[k]()}));this.Pe=this.sa=null}H=qh[z];H.jj=function(){return null===this.sa?[]:this.sa.c()};H.Sf=function(){L(this.sa);null===this.Pe&&(this.Pe=new oh(this.vb,this.sa));return this.Pe};H.Wh=function(a){a[n](function(a){var c=a.sb()[0][k]();this.$f[jb](c)&&(null===this.sa&&(this.sa=new Yf),this.sa.add(c,a.ka()))},this)};
H.Lj=function(){if(null===this.sa)return!1;for(var a=!1,b=!0,c=0;c<this.vb.h[y];c++){var d=this.sa.A(this.vb.h[c].oa[k]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.yh=function(a){a=this.Sf().Ad(a);var b=this.O.get(this.vb.l());return a[lb](function(a,d){return a+b.rd(d)},0)};
function rh(a,b,c,d){U[D](this,0,-1);this.O=a.o(yd);this.index=b;this.ig=c;this.$e=d;this.ee=this.de=!1}K(rh,U);f(rh[z],function(){return"index_range_scan("+this[$a].l()+", ?, "+(this.$e?"reverse":"natural")+(this.de?", limit:?":"")+(this.ee?", skip:?":"")+")"});rh[z].ed=function(a){var b=this[r](),c=this.ig.Ad(a),b=b[Ka]("?",c[r]());this.de&&(b=b[Ka]("?",a.na[r]()));this.ee&&(b=b[Ka]("?",a.ma[r]()));return b};
rh[z].ja=function(a,b,c){a=this.ig.Ad(c);c=this.O.get(this[$a].l()).Za(a,this.$e,this.de?c.na:void 0,this.ee?c.ma:void 0).map(function(a){return new ad(a,{})},this);return[ge(c,[this[$a].ff])]};
function sh(a){U[D](this,1,1);this.Sd=a}K(sh,U);f(sh[z],Eb("select(?)"));sh[z].ed=function(a){a=a.Ed(this.Sd);return this[r]()[Ka]("?",a[r]())};sh[z].ja=function(a,b,c){return[c.Ed(this.Sd).eval(b[0])]};
function th(a,b){U[D](this,1,1);this.pa=a.o(xd);this.K=b}K(th,U);f(th[z],function(){return"table_access_by_row_id("+this.K[k]()+")"});th[z].ja=function(a,b){return[ge(this.pa.get(b[0].nj()),[this.K.Ca()])]};
function uh(a,b){U[D](this,0,-1);this.pa=a.o(xd);this.O=a.o(yd);pa(this,b)}K(uh,U);f(uh[z],function(){var a="table_access("+this[t][k]();null===this[t].Ya()||(a+=" as "+this[t].Ya());return a+")"});uh[z].ja=function(){var a=this.O.get(this[t].Nb()).Za();return[ge(this.pa.get(a),[this[t].Ca()])]};
function vh(a){this.m=a}K(vh,Cg);vh[z].Cb=function(a,b){this.ha=a;Kf(a,function(a){return a instanceof uh})[n](function(a){var d=this.Ii(a);if(0!=d[y]){var g=(new ph(this.m,a[t])).Ph(b,d.map(function(a){return b.Ed(a.Sd)}));if(null!==g){var h=new N;d[n](function(a){h.set(a.Sd,a)},this);this.ha=this.vk(g,h,a,b)}}},this);return this.ha};vh[z].Ii=function(a){var b=[];for(a=a[Ha]();a;)a instanceof sh&&b[v](a),a=a[Ha]();return b};
vh[z].vk=function(a,b,c){a.jj().map(function(a){return b.get(a)})[n](Lf);a=new rh(this.m,a.vb,a.Sf(),!1);var d=new th(this.m,c[t]);d.ia(a);Pf(c,c,d,a);return a.mb()};
function wh(a,b){U[D](this,0,-1);this.O=a.o(yd);this.K=b}K(wh,U);f(wh[z],function(){return"insert("+this.K[k]()+")"});wh[z].ja=function(a,b,c){xh(this.K,c[Pa],this.O);a.wb(this.K,c[Pa]);return[ge(c[Pa],[this.K[k]()])]};function xh(a,b,c){a=a.Lb().De();if(null===a?0:a.h[0][Oa]){var d=a.h[0].oa[k](),g=c.get(a.l()).max()[0]||0;b[n](function(a){if(0==a.w()[d]||null==a.w()[d])g++,a.w()[d]=g})}}function yh(a,b){U[D](this,0,-1);this.O=a.o(yd);this.K=b}K(yh,U);
f(yh[z],function(){return"insert_replace("+this.K[k]()+")"});yh[z].ja=function(a,b,c){xh(this.K,c[Pa],this.O);a.Ke(this.K,c[Pa]);return[ge(c[Pa],[this.K[k]()])]};
function zh(a){U[D](this,2,0);this.Ag=a}K(zh,U);f(zh[z],function(){return"join("+this.Ag[r]()+")"});zh[z].ja=function(a,b){return[this.Ag.mi(b[0],b[1])]};
function Ah(){U[D](this,1,1)}K(Ah,U);f(Ah[z],Eb("limit(?)"));Ah[z].ed=function(a){return this[r]()[Ka]("?",a.na[r]())};Ah[z].ja=function(a,b,c){b[0][C][E](c.na);return b};
function Bh(a){U[D](this,-1,1);this.J=a}K(Bh,U);H=Bh[z];f(H,function(){return"order_by("+ze(this.J)+")"});H.ja=function(a,b){if(1==b[y]){var c=this.Ei(b[0]);(null===c?b[0]:b[0].nc(c))[C][yb](this.ji[q](this))}else b[yb](this.rk[q](this));return b};H.Ei=function(a){for(var b=null,c=0;c<this.J[y];c++){var d=eg(this.J[c].I);if(a.zj(d)){b=d;break}}return b};
H.L=function(a,b){var c=null,d=null,g=null,h=-1;do h++,g=this.J[h].I,c=this.J[h].ob,d=a(g),g=b(g);while(d==g&&h+1<this.J[y]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.rk=function(a,b){return this.L(function(b){return b instanceof T?a.nc(b):a[C][a[C][y]-1].N(b)},function(a){return a instanceof T?b.nc(a):b[C][b[C][y]-1].N(a)})};H.ji=function(a,b){return this.L(function(b){return a.N(b)},function(a){return b.N(a)})};
function Ch(a,b){this.Fa=a;this.G=b}Ch[z].Wf=function(){return this.G[xb](function(a){return a instanceof T},this)?this.xj():this.yj()};
Ch[z].xj=function(){if(1==this.G[y]&&"DISTINCT"==this.G[0].cc){var a=this.Fa.nc(this.G[0])[C].map(function(a){var b=new he(new ad(-1,{}),this.Fa.Me());b.cf(this.G[0],a.N(this.G[0][hb]));return b},this);return new ae(a,[])}var b=new he(new ad(-1,{}),this.Fa.Me());this.G[n](function(a){var d=a instanceof T?this.Fa.nc(a):this.Fa[C][0].N(a);b.cf(a,d)},this);return new ae([b],this.Fa.Y())};
Ch[z].yj=function(){var a=e(this.Fa[C][y]),b=this.Fa.Me();this.Fa[C][n](function(c,d){a[d]=new he(new ad(c.ua.id(),{}),b);this.G[n](function(b){a[d].cf(b,c.N(b))},this)},this);return new ae(a,this.Fa.Y())};function Dh(a,b){var c=a.map(function(a){return(new Ch(a,b)).Wf()[C][0]});return new ae(c,a[0].Y())};
function Eh(a,b){U[D](this,-1,1);this.h=a;this.Ob=b}K(Eh,U);H=Eh[z];f(H,function(){var a="project("+this.h[r]();if(null!==this.Ob)var b=this.Ob.map(function(a){return a.l()})[F](", "),a=a+(", groupBy("+b+")");return a+")"});H.ja=function(a,b){return 0==b[y]?[de()]:1==b[y]?[this.vi(b[0])]:[this.ti(b)]};H.Aj=function(){return this.h[xb](function(a){return a instanceof T})||null!==this.Ob};H.ti=function(a){return Dh(a,this.h)};H.vi=function(a){return 0==this.h[y]?a:(new Ch(a,this.h)).Wf()};
function Fh(){U[D](this,1,1)}K(Fh,U);f(Fh[z],Eb("skip(?)"));Fh[z].ed=function(a){return this[r]()[Ka]("?",a.ma[r]())};Fh[z].ja=function(a,b,c){return[new ae(b[0][C][w](c.ma),b[0].Y())]};
function Gh(){}K(Gh,Cg);Gh[z].Cb=function(a){var b=Kf(a,function(a){return a instanceof Ah||a instanceof Fh});if(0==b[y])return a;var c=this.Hi(a);if(null===c)return a;b[n](function(a){this.Uj(a,c)},this);return c.mb()};Gh[z].Uj=function(a,b){a instanceof Ah?b.de=!0:b.ee=!0;return Lf(a).parent};Gh[z].Hi=function(a){a=Kf(a,function(a){return a instanceof rh},function(a){return a instanceof Eh&&a.Aj()||a instanceof Bh||1!=a.wa()||a instanceof sh});return 0<a[y]?a[0]:null};
function Hh(a){this.m=a}K(Hh,Cg);Hh[z].Cb=function(a){var b=Ih(a);if(null===b)return a;a=this.nh(b);a==b&&(a=this.mh(b));return a.mb()};Hh[z].nh=function(a){var b=a,c=Jh(a.rb(0));if(null!==c){var d;d=a.J;for(var g=null,h=c[t].Ia(),l=0;l<h[y]&&null===g;l++)g=Kh(h[l],d);d=g;if(null===d)return b;b=new rh(this.m,d.vb,new nh(d.vb),d.fg);d=new th(this.m,c[t]);d.ia(b);Lf(a);b=Pf(c,c,d,b)}return b};
Hh[z].mh=function(a){var b=a,c=Lh(a.rb(0));if(null!==c){var d=Kh(c[$a],a.J);if(null===d)return b;c.$e=d.fg;b=Lf(a).parent}return b};function Lh(a){a=Kf(a,function(a){return a instanceof rh},function(a){return 1!=a.wa()});return 0<a[y]?a[0]:null}function Jh(a){a=Kf(a,function(a){return a instanceof uh},function(a){return 1!=a.wa()});return 0<a[y]?a[0]:null}function Ih(a){a=Kf(a,function(a){return a instanceof Bh});return 0<a[y]?a[0]:null}
function Kh(a,b){if(a.h[y]!=b[y]||!b[zb](function(b,c){return b.I[k]()==a.h[c].oa[k]()}))return null;var c=Mh(b,a);return c[0]||c[1]?{vb:a,fg:c[1]}:null}function Mh(a,b){var c=a[lb](function(a,b){return a<<1|(0==b.ob?0:1)},0),d=b.h[lb](function(a,b){return a<<1|(0==b.ob?0:1)},0),d=c^d,c=0==d,d=d==ea.pow(2,ea.max(a[y],b.h[y]))-1;return[c,d]};
function Nh(a,b,c){this.Aa=a;this.kk=b;this.af=c}Nh[z].mc=function(){this.af[n](function(a){this.Aa=a.Cb(this.Aa,this.kk)},this);return this.Aa};
function Oh(a,b){U[D](this,1,1);this.K=a;this.Wk=b}K(Oh,U);f(Oh[z],function(){return"update("+this.K[k]()+")"});Oh[z].ja=function(a,b){var c=b[0][C].map(function(a){var b=this.K.jc(a.ua.Ga());this.Wk[n](function(a){b.w()[a.I[k]()]=a[x]},this);return b},this);a[Ab](this.K,c);return[de()]};
function Ph(a){this.m=a}Ph[z].create=function(a,b){var c=a.mb();if(c instanceof pg||c instanceof og)return this.se(a,b);if(c instanceof vg||c instanceof zg||c instanceof Ag)return this.se(a,b,[new vh(this.m),new Hh(this.m),new Gh]);if(c instanceof qg||c instanceof rg)return this.se(a,b,[new vh(this.m)]);throw new P(8);};Ph[z].se=function(a,b,c){var d=If(a.mb(),J(this.Qj,this));null!=c&&(d=(new Nh(d,b,c)).mc());return new Ae(d,a.fa())};
Ph[z].Qj=function(a){if(a instanceof vg)return new Eh(a.h,a.Ob);if(a instanceof yg)return new lh(a.h);if(a instanceof xg)return new fg(a.h);if(a instanceof wg)return new Bh(a.J);if(a instanceof Ag)return new Fh;if(a instanceof zg)return new Ah;if(a instanceof sg)return new sh(a.Ea.ka());if(a instanceof ug)return new Fg;if(a instanceof Bg)return new zh(a.Ea);if(a instanceof tg)return new uh(this.m,a[t]);if(a instanceof qg)return new kh(a[t]);if(a instanceof rg)return new Oh(a[t],a.lf);if(a instanceof
pg)return new yh(this.m,a[t]);if(a instanceof og)return new wh(this.m,a[t]);throw new P(514);};

function Qh(a){this.Oj=new jh;this.ek=new Ph(a)}Qh[z].ij=function(a){var b=this.Oj[Wa](a);return this.ek[Wa](b,a)};
function Rh(){this.og=new N}H=Rh[z];H.zd=function(a){var b=this.og.get(a[k](),null);null===b&&(b=new Sh,this.og.set(a[k](),b));return b};H.uj=function(a,b,c){b[n](function(b){this.zd(b).tj(a,c)},this)};H.Ch=function(a,b,c){return b[zb](function(b){return this.zd(b).Bh(a,c)},this)};H.Fg=function(a,b,c){var d=this.Ch(a,b,c);d&&this.uj(a,b,c);return d};H.Wd=function(a,b){b[n](function(b){this.zd(b).Wd(a)},this)};H.Qh=function(a){a[n](function(a){this.zd(a).eb=null},this)};
function Sh(){this.$b=this.Ta=this.eb=this.Jc=null}Sh[z].Wd=function(a){this.Jc==a&&(this.Jc=null);this.eb==a&&(this.eb=null);null===this.Ta||this.Ta[m](a);null===this.$b||this.$b[m](a)};Sh[z].Bh=function(a,b){var c=null===this.Ta||this.Ta.Ja();return 0==b?(null===this.$b||this.$b.Ja())&&c&&null===this.Jc&&null!==this.eb&&this.eb==a:3==b?null===this.Jc&&null===this.eb&&null!==this.Ta&&this.Ta[jb](a):1==b?null===this.eb:c&&(null===this.eb||this.eb==a)};
Sh[z].tj=function(a,b){0==b?(this.eb=null,this.Jc=a):3==b?(null===this.$b&&(this.$b=new O),this.$b.add(a),null===this.Ta&&(this.Ta=new O),this.Ta[m](a)):1==b?(null===this.Ta&&(this.Ta=new O),this.Ta.add(a)):2==b&&(this.eb=a)};
function Th(){this.Wb=new Uh;this.Vc=new Rh}H=Th[z];H.Yb=function(a){(2>a[qb]()||2>a[qb]())&&this.Vc.Qh(a.fa().c());this.Wb.wb(a);this.re();return a.Nc().ga};H.re=function(){for(var a=this.Wb.c(),b=0;b<a[y];b++){var c=a[b],d=!1;if(d=0==c.$()?this.Gg(c,1,3):this.Gg(c,2,0))this.Wb[m](c),this.wi(c)}};H.Gg=function(a,b,c){var d=!1,g=a.fa().c();this.Vc.Fg(a.ka(),g,b)&&(d=this.Vc.Fg(a.ka(),g,c));return d};H.wi=function(a){a[Ja]()[A](J(this.ak,this,a),J(this.$j,this,a))};
H.ak=function(a,b){this.Vc.Wd(a.ka(),a.fa().c());a.Nc()[wb](b);this.re()};H.$j=function(a,b){this.Vc.Wd(a.ka(),a.fa().c());a.Nc()[kb](b);this.re()};function Uh(){this.Wb=[]}Uh[z].wb=function(a){qc(this.Wb,a,function(a,c){var d=a[qb]()-c[qb]();return 0==d?a.ka()-c.ka():d})};Uh[z].c=function(){return this.Wb[w]()};ka(Uh[z],function(a){var b=this.Wb;a=cc(b,a);var c;(c=0<=a)&&ic(b,a);return c});
function Vh(a,b){this.li=le.Ae();this.$c=a;this.Od=b;this.G=this.ei()}Vh[z].ei=function(){if(0<this.$c.h[y])return this.$c.h;var a=[],b=this.$c.f[w]();null!=this.$c.Je&&b[v](this.$c.Je);b[n](function(b){b.sb()[n](function(b){a[v](b)})});return a};Vh[z].L=function(a,b){return this.G[zb](function(c){return this.li.ze(c.$(),"eq")(a.N(c),b.N(c))},this)};
Vh[z].lh=function(a,b){for(var c=null===a?[]:a[C],d=jd(c,b[C],J(this.L,this),function(a){return c[a]}),g=[],h=0,l=0;l<c[y];l++){var p=c[l];d[h]==p?h++:(p=this.Od[E](h,1),p=Wh(l,p,0,this.Od),g[v](p))}d=jd(c,b[C],J(this.L,this),function(a,c){return b[C][c]});for(l=h=0;l<b[C][y];l++)p=b[C][l],d[h]==p?h++:(this.Od[E](l,0,p.ua.w()),p=Wh(l,[],1,this.Od),g[v](p));return g};function Wh(a,b,c,d){return{Xk:c,index:a,object:d,Zk:b,type:"splice"}};
function Xh(){this.lc=new N}H=Xh[z];H.Ee=function(a){return Pb(a)[r]()};H.ge=function(a,b){var c=this.Ee(a.Dd()),d=this.lc.get(c,null);null===d&&(d=new Yh(a),this.lc.set(c,d));d.ge(b)};H.Ze=function(a,b){var c=this.Ee(a.Dd()),d=this.lc.get(c,null);L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.Ze(b);L(g,"removeObserver: Inconsistent state detected.");d.Cj()||this.lc[m](c)};
H.Ge=function(a){var b=new O;a[n](function(a){b.add(a[k]())});var c=[];this.lc.c()[n](function(a){a=a.Pc();a[Ea].f[xb](function(a){return b[jb](a[k]())})&&c[v](a)});return c};H.Yg=function(a,b){var c=this.Ee(null!=a.Dc?a.Dc:a),c=this.lc.get(c,null);return null!==c?(c.Vk(b),!0):!1};function Yh(a){this.wh=a;this.Yc=new O;this.Yj=[];this.lg=null;this.hi=new Vh(a.Dd(),this.Yj)}H=Yh[z];H.ge=function(a){this.Yc[jb](a)?Zb("Attempted to register observer twice."):this.Yc.add(a)};H.Ze=function(a){return this.Yc[m](a)};
H.Pc=function(){return this.wh.gj()};H.Cj=function(){return 0<this.Yc.qa()};H.Vk=function(a){var b=this.hi.lh(this.lg,a);this.lg=a;0<b[y]&&this.Yc.c()[n](function(a){a(b)})};
function Zh(a,b){var c=a.o(Cd),d=b||{},g=d.storeType||0,h=new df;a.pb(xd,h);var h=null,l=!1;switch(g){case 1:h=new Re(c);break;case 5:h=new Se(c);break;case 4:h=new We(a,c,d.webSqlDbSize);break;case 3:h=new Le(c,d.firebase);l=!0;break;default:h=new Pe(a,c)}a.pb(wd,h);var p=new Ef;a.pb(yd,p);return h.Da(d.onUpgrade)[A](function(){a.pb(zd,new Qh(a));var b=new Th;a.pb(Ad,b);b=new Xh;a.pb(Bd,b);return p.Da(c)})[A](function(){l&&(new Fe(a)).Kk();return(new Df(a)).Da(c)})};

function $h(a,b){this.m=a;this.zb=a.o(wd);this.Va=a.o(Ad);this.Bb=a.o(Bd);this.va=new O(b);this.ab=new Rd(this.m,this.va.c());this.Xb=Vc();this.Kc=Vc();this.nf=Vc()}H=$h[z];ia(H,function(){this.nf[wb]();return this.Kc.ga});H.$=Eb(1);H.fa=G("va");H.Nc=G("Xb");H.ka=function(){return Pb(this)};xa(H,Eb(2));H.bh=function(){this.Va.Yb(this);return this.nf.ga};
H.th=function(a){a=a.Pc();return a.Xe.mb()[Ja](this.ab,a[Ea])[A](function(a){return a[0].Be()},J(function(a){this.ab.Db();var c=new Mc(a[sb]);this.Kc[kb](c);throw a;},this))};H.V=function(){this.zb.Jb(this.$(),this.ab).V()[A](J(function(){this.cd();this.Kc[wb]()},this),J(function(a){this.ab.Db();this.Kc[kb](a)},this));return this.Xb.ga};H.Db=function(){this.ab.Db();this.Kc[wb]();return this.Xb.ga};H.cd=function(){var a=this.Bb.Ge(this.va.c());0!=a[y]&&(a=new De(this.m,a),this.Va.Yb(a))};
function ai(a){this.m=a;this.Va=a.o(Ad);this.fd=null;this.Ha=0}I("lf.proc.Transaction",ai,void 0);var bi=new N(0,new O([1,4]),1,new O([2]),2,new O([3,5,6]),3,new O([2,7]),4,new O([7]),5,new O([7]),6,new O([7]));ai[z].Ma=function(a){var b=bi.get(this.Ha,null);if(null===b||!b[jb](a))throw new P(107,this.Ha,a);this.Ha=a};
ia(ai[z],function(a){this.Ma(4);var b=[];try{a[n](function(a){a.kb();b[v](a.Pc())},this)}catch(c){return this.Ma(7),Rc(c)}a=new Gg(this.m,b);return this.Va.Yb(a)[A](J(function(a){this.Ma(7);return a.map(function(a){return a.Be()})},this),J(function(a){this.Ma(7);throw a;},this))});ia(ai[z],ai[z][Ja]);ai[z].uh=function(a){this.Ma(1);this.fd=new $h(this.m,a);return this.fd.bh()[A](J(function(){this.Ma(2)},this))};ai[z].begin=ai[z].uh;
ai[z].sh=function(a){this.Ma(3);return this.fd.th(a)[A](J(function(a){this.Ma(2);return a},this),J(function(a){this.Ma(7);throw a;},this))};ai[z].attach=ai[z].sh;ai[z].V=function(){this.Ma(5);return this.fd.V()[A](J(function(){this.Ma(7)},this))};ai[z].commit=ai[z].V;ai[z].Db=function(){this.Ma(6);return this.fd.Db()[A](J(function(){this.Ma(7)},this))};ai[z].rollback=ai[z].Db;
function X(a){this.m=a;this.s=a.o(Cd);this.Ie=!1}I("lf.proc.Database",X,void 0);X[z].Da=function(a){this.m.pb(Cd,this.s);return Zh(this.m,a)[A](J(function(){this.Ie=!0;return this},this))};X[z].init=X[z].Da;X[z].ub=G("s");X[z].getSchema=X[z].ub;X[z].hc=function(){if(!this.Ie)throw new P(2);};X[z].select=function(a){this.hc();return new W(this.m,1!=arguments[y]||null!=arguments[0]?e[z][w][D](arguments):[])};X[z].select=X[z].select;X[z].wb=function(){this.hc();return new Wg(this.m)};X[z].insert=X[z].wb;
X[z].Ke=function(){this.hc();return new Wg(this.m,!0)};X[z].insertOrReplace=X[z].Ke;Da(X[z],function(a){this.hc();return new $g(this.m,a)});Da(X[z],X[z][Ab]);ya(X[z],function(){this.hc();return new Vg(this.m)});X[z]["delete"]=X[z][rb];X[z].observe=function(a,b){this.m.o(Bd).ge(a,b)};X[z].observe=X[z].observe;X[z].unobserve=function(a,b){this.m.o(Bd).Ze(a,b)};X[z].unobserve=X[z].unobserve;X[z].ci=function(){this.hc();return new ai(this.m)};X[z].createTransaction=X[z].ci;
sa(X[z],function(){try{this.m.o(wd)[db]()}catch(a){}this.m[Qa]();this.Ie=!1});sa(X[z],X[z][db]);
function Y(a,b,c,d,g,h){this.K=a;this.B=b;this.hg=c;this.eg=d;this.Xg=g;this.jb=h||null;this.i=this.C=null}I("lf.schema.BaseColumn",Y,void 0);H=Y[z];ja(H,G("B"));H.l=function(){return this.K.Ca()+"."+this.B};f(H,function(){return this.l()});H.X=G("K");H.$=G("Xg");H.Ya=G("jb");H.Ia=function(){null==this.ra&&(this.ra=[],this.X().Ia()[n](function(a){-1!=a.h.map(function(a){return a.oa[k]()})[pb](this.B)&&this.ra[v](a)},this));return this.ra};H.qc=G("eg");H.Sc=G("hg");H.ae=Db("C");H.getParent=G("C");
H.Bk=Db("i");H.M=G("i");H.Qa=function(a){return $f(this,a,"eq")};Y[z].eq=Y[z].Qa;Y[z].pg=function(a){return $f(this,a,"neq")};Y[z].neq=Y[z].pg;Y[z].Qe=function(a){return $f(this,a,"lt")};Y[z].lt=Y[z].Qe;Y[z].Pj=function(a){return $f(this,a,"lte")};Y[z].lte=Y[z].Pj;Y[z].vj=function(a){return $f(this,a,"gt")};Y[z].gt=Y[z].vj;Y[z].wj=function(a){return $f(this,a,"gte")};Y[z].gte=Y[z].wj;Y[z].match=function(a){return $f(this,a,"match")};Y[z].match=Y[z].match;
Y[z].vh=function(a,b){return $f(this,[a,b],"between")};Y[z].between=Y[z].vh;Y[z].Dj=function(a){return $f(this,a,"in")};Y[z]["in"]=Y[z].Dj;Y[z].Jj=function(){return this.Qa(null)};Y[z].isNull=Y[z].Jj;Y[z].Ij=function(){return this.pg(null)};Y[z].isNotNull=Y[z].Ij;Y[z].Ac=function(a){return new Y(this.K,this.B,this.hg,this.eg,this.Xg,a)};Y[z].as=Y[z].Ac;
function ci(){this.Zd=new N}var di;na(ci[z],function(){this.Zd[Qa]()});na(ci[z],ci[z][Qa]);ci[z].pb=function(a,b){this.Zd.set(a[r](),b);return b};ci[z].registerService=ci[z].pb;ci[z].o=function(a){var b=this.Zd.get(a[r](),null);if(null==b)throw new P(7,a[r]());return b};ci[z].getService=ci[z].o;ci[z].Oe=function(a){return this.Zd.A(a[r]())};ci[z].isRegistered=ci[z].Oe;
function ei(a,b,c){this.hk=a;this.Wj=b;this.Ji=c}ei[z].De=G("hk");ei[z].fj=G("Wj");ei[z].$i=G("Ji");
function fi(a,b){var c=a.ref[bb](".");if(2!=c[y])throw new P(540,b);this.Hb=a.local;this.sc=c[0];this.Zc=c[1];this.Mc=b;this.action=a.action;this.timing=a.timing};
function Z(a){this.B=a;this.G=new Ye;this.jf=new bf;this.wc=new bf;this.Nd=new bf;var b=this.B;this.tc="pk"+(b[0].toUpperCase()+b.substring(1));this.ra=new Ye;this.Rd=!1;this.ic(a);this.Mf=[]}I("lf.schema.TableBuilder",Z,void 0);function gi(a){Aa(this,a[sb]);this.ob=a.order;this.autoIncrement=a[Oa]}var hi=new bf([0,6]);Z[z].ic=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);if(this.G.has(a)||this.ra.has(a)||this.wc.has(a))throw new P(503,this.B+"."+a);};
Z[z].Lh=function(a){var b=!1;a[n](function(a){var d=this.G.get(a[sb]);b=b||a[Oa];if(a[Oa]&&3!=d)throw new P(504);},this);if(b&&1<a[y])throw new P(505);};Z[z].eh=function(a,b){this.ic(a);this.G.set(a,b);hi.has(b)&&this.rf([a]);return this};Z[z].addColumn=Z[z].eh;Z[z].gh=function(a,b){this.ic(this.tc);var c=this.Md(a,!0,void 0,b);this.Lh(c);1==c[y]&&this.jf.add(c[0][sb]);this.wc.add(this.tc);this.ra.set(this.tc,c);return this};Z[z].addPrimaryKey=Z[z].gh;
Z[z].fh=function(a,b){this.ic(a);var c=new fi(b,this.B+"."+a);Gb(c.action)||(c.action=0);Gb(c.timing)||(c.timing=0);if(1==c.action&&1==c.timing)throw new P(506);if(!this.G.has(c.Hb))throw new P(540,a);this.Mf[v](c);this.qf(a,[c.Hb],!1);return this};Z[z].addForeignKey=Z[z].fh;Z[z].hh=function(a,b){this.ic(a);var c=this.Md(b,!0);1==c[y]&&this.jf.add(c[0][sb]);this.ra.set(a,c);this.wc.add(a);return this};Z[z].addUnique=Z[z].hh;
Z[z].rf=function(a){a=this.Md(a,!1);this.Kh(a);a[n](function(a){this.Nd.add(a[sb])},this);return this};Z[z].addNullable=Z[z].rf;Z[z].Kh=function(a){Ze(this.ra)[n](function(b){var c=new bf;this.ra.get(b)[n](function(a){c.add(a[sb])});var d=a[Fa](function(a){return c.has(a[sb])});if(1<c[Za]&&0<d[y])throw new P(507,b,d[F](","));},this)};Z[z].qf=function(a,b,c,d){this.ic(a);b=this.Md(b,!0,d);this.Jh(a,b);c&&this.wc.add(a);this.ra.set(a,b);return this};Z[z].addIndex=Z[z].qf;
Z[z].Jh=function(a,b){if(1<b[y]){var c=b[Fa](function(a){return this.Nd.has(a[sb])},this);if(0<c[y])throw new P(507,a,c[F](","));}};Z[z].Vb=Db("Rd");Z[z].persistentIndex=Z[z].Vb;Z[z].ub=function(){return new (this.Xi())};Z[z].getSchema=Z[z].ub;Z[z].Mb=G("Mf");
Z[z].Md=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new gi({name:a,order:c||1,autoIncrement:d||!1})}):a.map(function(a){return new gi(a)});g[n](function(a){if(!this.G.has(a[sb]))throw new P(508,this.B,a[sb]);if(b){var c=this.G.get(a[sb]);if(0==c||6==c)throw new P(509,this.B,a[sb]);}},this);return g};
Z[z].Xi=function(){function a(){function a(c){return b.ra.get(c).map(function(a){return{oa:this[a[sb]],ob:a.ob,autoIncrement:a[Oa]}},this)}var d=Ze(b.G).map(function(a){this[a]=new Y(this,a,b.jf.has(a),b.Nd.has(a),b.G.get(a));return this[a]},this),g=Ze(b.ra).map(function(d){return new bg(b.B,d,b.wc.has(d),a[D](this,d))},this);cg[D](this,b.B,d,g,b.Rd);var h=b.ra.has(b.tc)?new bg(b.B,b.tc,!0,a[D](this,b.tc)):null,l=d[Fa](function(a){return!b.Nd.has(a[k]())}),p=cf(b.wc).map(function(d){return new bg(b.B,
d,!0,a[D](this,d))},this);this.Vh=new ei(h,l,b.Mb(),p);this.Jg=b.Ti(d,g)}var b=this;K(a,cg);a[z].Ab=function(a){return new this.Jg(bd++,a)};a[z].createRow=a[z].Ab;a[z].jc=function(a){var b={};this.sb()[n](function(g){var h=g[k]();g=g.$();var l=a[x][h];if(0==g)if(null===l)g=l;else if(g=l,""==g)g=null;else{0!=g[y]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[y]/2),p=new Uint8Array(l),B=0,Ta=0;B<g[y];B+=2)p[Ta++]=ga(g.substr(B,2),16);g=l}else g=2==g?null===l?l:new Date(l):l;b[h]=g},this);return new this.Jg(a.id,
b)};a[z].deserializeRow=a[z].jc;a[z].Lb=G("Vh");a[z].getConstraint=a[z].Lb;return a};
Z[z].Ti=function(a,b){function c(c,d){this.G=a;this.ra=b;ad[D](this,c,d)}K(c,ad);c[z].Gf=function(){var a={};this.G[n](function(b){a[b[k]()]=b.qc()?null:Wd[b.$()]});return a};c[z].Ug=function(){var a={};this.G[n](function(b){var c=b[k]();b=b.$();var d=this.w()[c];a[c]=0==b?null===d?d:ed(d):2==b?null===d?d:d[Ra]():d},this);return a};var d=J(function(a){var b=this.G.get(a[k]());return 2==b?function(b){b=b[a[k]()];return a.qc()&&null===b?null:b[Ra]()}:1==b?function(b){return a.qc()?(b=b[a[k]()],null===
b?null:b?1:0):b[a[k]()]?1:0}:function(b){return b[a[k]()]}},this),g=J(function(a){var b=a.map(function(a){return d(a.oa)});return function(a){return b.map(function(b){return b(a)})}},this),h={};b[n](function(a){var b=a.l();a=1==a.h[y]?d(a.h[0].oa):g(a.h);h[b]=a});c[z].Uc=function(a){return-1!=a[pb]("#")?this.id():h[cb](a)?h[a](this.w()):null};return c};
function ii(a,b){this.s=new ji(a,b);this.Na=new N;this.Lc=!1}I("lf.schema.Builder",ii,void 0);H=ii[z];H.Hh=function(a){a.Mb()[n](function(b){var c=b.sc;if(!this.Na.A(c))throw new P(536,b.Mc);var c=this.Na.get(c).ub(),d=b.Zc;if(!c[cb](d))throw new P(537,b.Mc);if(a.ub()[b.Hb].$()!=c[d].$())throw new P(538,b.Mc);if(!c[d].Sc())throw new P(539,b.Mc);},this)};H.Gh=function(a){a.Mb()[n](function(a){this.Na.get(a.sc).Mb()[n](function(c){if(c.Hb==a.Zc)throw new P(534,a.Mc);},this)},this)};
H.Ck=function(a){var b=[];this.Na.c()[n](function(c){c.Mb()[Fa](function(c){c.sc==a[k]()&&b[v](c)})});a.Dk(b)};H.Di=function(){this.Lc||(this.Na.c()[n](function(a){this.Hh(a);this.s.Ek(a.ub())},this),this.Na.c()[n](this.Gh,this),this.Na.H()[n](this.Uh,this),this.s.Wa()[n](this.Ck,this),this.Fh(),this.Na[Qa](),this.Lc=!0)};H.Uh=function(a){this.Na.get(a).Mb()[n](function(b){var c=this.s.F.get(a),d=this.s.F.get(b.sc);c[b.Hb].ae(d[b.Zc]);var g=d[b.Zc].M()||[];g[v](c[b.Hb]);d[b.Zc].Bk(g)},this)};
H.Cf=function(a,b){a.mf||(a.mf=!0,a.Te=!0,a.Jf[n](function(c){c=b.get(c);if(!c.mf)this.Cf(c,b);else if(c.Te&&a!=c)throw new P(533);},this));a.Te=!1};H.Fh=function(){var a=new Ye;this.s.F.H()[n](function(b){a.set(b,new ki(b))},this);this.Na[n](function(b,c){b.Mb()[n](function(b){a.get(b.sc).Jf.add(c)})});$e(a)[n](function(b){this.Cf(b,a)},this)};function ki(a){this.Te=this.mf=!1;this.Jf=new bf;this.ff=a}H.ub=function(){this.Lc||this.Di();return this.s};ii[z].getSchema=ii[z].ub;
ii[z].Rf=function(){var a=new vd("ns_"+this.s[sb]()),b;di||(di=new ci);b=di;var c=null;b.Oe(a)?c=b.o(a):(c=new ci,b.pb(a,c));return c};ii[z].getGlobal=ii[z].Rf;ii[z].connect=function(a){var b=this.Rf();b.Oe(Cd)||b.pb(Cd,this.ub());return(new X(b)).Da(a)};ii[z].connect=ii[z].connect;ii[z].ai=function(a){if(this.Na.A(a))throw new P(503,a);if(this.Lc)throw new P(535);this.Na.set(a,new Z(a));return this.Na.get(a)};ii[z].createTable=ii[z].ai;
ii[z].ef=function(a){if(this.Lc)throw new P(535);this.s.ef(a);return this};ii[z].setPragma=ii[z].ef;function ji(a,b){this.B=a;this.Pa=b;this.F=new N;this.zg={ii:!1}}I("lf.schema.DatabaseSchema",ji,void 0);Aa(ji[z],G("B"));Aa(ji[z],ji[z][sb]);ji[z].version=G("Pa");ji[z].version=ji[z][Ga];ji[z].Wa=function(){return this.F.c()};ji[z].tables=ji[z].Wa;pa(ji[z],function(a){if(!this.F.A(a))throw new P(101,a);return this.F.get(a)});pa(ji[z],ji[z][t]);ji[z].Ek=function(a){this.F.set(a[k](),a)};ji[z].yg=G("zg");
ji[z].pragma=ji[z].yg;ji[z].ef=Db("zg");I("lf.schema.create",function(a,b){return new ii(a,b)},void 0);}.bind(window))()
